/*!The MIT License (MIT)
 *
 * Copyright (c) 2014 Petka Antonov
 *
 * With parts by 2009-2014 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:</p>
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

/*!
 * SAP XHR Library v1.2.0
 * (c) Copyright 2013-2016 SAP SE or an SAP affiliate company.
*/

/**
 * @license
 * lodash <https://lodash.com/>
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

function SevereError(e){this.name="SevereError",this.message=e,this.stack=(new Error).stack}define("sap/watt/core/UtilsCore",[],function(){"object"!=typeof self.sap&&"function"!=typeof self.sap&&(self.sap={}),"object"!=typeof self.sap.watt&&(self.sap.watt={}),sap.watt.includeScript=function(e){e=require.toUrl(e);var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.src=e;var r=!1,i=Q.defer();return n.onload=n.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,n.onload=n.onreadystatechange=null,i.resolve())},t.appendChild(n),i.promise},sap.watt.includeCSS=function(e){e=require.toUrl(e);var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=e,n.type="text/css",n.media="screen",n.rel="stylesheet",t.appendChild(n)},sap.watt.getLocale=function(){return self.sap.watt.locale},sap.watt.getEnv=function(e,t){var n=self["sap-ide-env"]&&self["sap-ide-env"][e];return void 0===n&&(n=t),n},sap.watt.getURLParameter=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null},sap.watt.toAbsoluteURI=function(e,t,n){return new URI(e).absoluteTo(t).query(n||"").toString()},sap.watt.fireBrowserEvent=function(e){var t=window.document.createEvent("Event");t.initEvent(e,!0,!1);for(var n=1;n<arguments.length;n+=2){var r=arguments[n],i=arguments[n+1];r&&(t[r]=i)}window.dispatchEvent(t)},sap.watt.normalizePath=function(e){if(!e)return"";for(var t=e.replace(/\\+/g,"/").replace(/\/+/g,"/").replace(/^\//,"").replace(/\/$/,"").split("/"),n=0;n<t.length;n++)t[n]=t[n].trim();return t.join("/")},sap.watt.network={_bNetworkAvailable:!0,_oError:void 0,_httpCode:void 0,getNetworkState:function(){var e=this,t=new XMLHttpRequest,n=Q.defer();return t.open("GET","//"+self.location.host+"/?rand="+Math.floor(65536*(1+Math.random()))),t.onload=function(){4===t.readyState&&(e._httpCode=t.status,e._oError=void 0,e._bNetworkAvailable=!0,n.resolve(e))},t.onerror=function(t){e._oError=t,e._bNetworkAvailable=!1,n.reject(e)},t.send(),n.promise},isNetworkAvailable:function(){return this._bNetworkAvailable},isResponseOk:function(){return this._httpCode>=200&&this._httpCode<300||304===this._httpCode},isSessionTimeOutInPreview:function(){return self.location.search.indexOf("hc_orionpath=")>-1&&503===this._httpCode},getLastError:function(){return this._oError?this._oError:""},getHttpCode:function(){return this._httpCode}}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("sap/watt/lib/q/q",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Q=e()}}(function(){var e,t,n;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(e){return h.resolve(e)}function i(){!S&&"undefined"!=typeof window&&window.console&&(console.warn("[bluebird-Q] Unhandled rejection reasons (should be empty):"),j.forEach(function(e){console.warn(e)}),console.warn("[/bluebird-Q]")),S=!0}function o(){for(var e=0;e<j.length;e++){var t=j[e];console.warn("Unhandled rejection reason:",t)}}function a(){j.length=0,k.length=0,S=!1,R||(R=!0,"undefined"!=typeof process&&process.on&&process.on("exit",o))}function s(e,t){R&&(k.push(e),t&&"undefined"!=typeof t.stack?j.push(t.stack):j.push("(no stack) "+t),i())}function u(e){if(R){var t=k.indexOf(e);t!==-1&&(k.splice(t,1),j.splice(t,1))}}function c(){}function l(e,t,n){t=t===d?this:t;var i=r.defer();n.push(i.makeNodeResolver());try{e.apply(t,n)}catch(e){i.reject(e)}return i.promise}function f(e,t){return function(){return e.apply(t,arguments)}}var h=e("bluebird/js/release/promise")(),p=e("bluebird/js/release/schedule"),d={},v={},g={thenReturn:"thenResolve",thenThrow:"thenReject",caught:"fail",lastly:"fin",call:"send mcall invoke".split(" ")},_={reject:"reject rejected".split(" "),resolve:"resolve resolved fulfill fulfilled".split(" "),is:"isPromise",race:"race",async:"coroutine",spawn:"spawn",delay:"delay",timeout:v,join:v,spread:v,tap:v,thenReject:v,thenResolve:v,isPending:v,isFulfilled:v,isRejected:v,get:v,set:v,del:v,delete:v,try:v,keys:v,allResolved:v,allSettled:v,fail:v,catch:v,fin:v,finally:v,done:v,nodeify:v,nfapply:v,nfcall:v,nfbind:v,npost:v,nsend:v,ninvoke:v,nbind:v,nmcall:v,fapply:v,fcall:v,fbind:v,denodeify:v,nmapply:v,mapply:v,post:v,send:v,mcall:v,invoke:v};r.all=h.all,r.Promise=function(e){var t=r.defer();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise},r.promise=r.Promise,r.isPromiseAlike=function(e){return e instanceof h||h.resolve(e).isPending()};var y=h.map,m=h.resolve;r.promised=function(e){return function(){var t=[].slice.call(arguments);return t.unshift(this),y(t,m).then(function(t){return e.apply(t.shift(),t)})}},r.when=function(e,t,n,i){return r(e).then(t,n,i)},r.nearer=function(e){if(e instanceof h){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e},r.passByCopy=function(e){return e},r.defer=function(){var e={},t=new h(function(t,n){e.resolve=e.fulfill=t,e.reject=n});return e.promise=t,e.notify=f(t._progress,t),e.makeNodeResolver=function(){return function(t,n){return t?e.reject(t):arguments.length>2?e.resolve([].slice.call(arguments,1)):e.resolve(n)}},e},r.deferred=r.pending=r.defer,r.getBluebirdPromise=function(){return h},h.prototype.valueOf=h.prototype.value;var w=function(e){if(e instanceof Array)return h.all(e.map(function(e){var t=e instanceof h?e:r(e);return t.reflect()}));if(e instanceof h)return e.then(function(e){return w(e)});throw new Error("that must be a promise or an array")};h.prototype.allSettled=function(){return w(this).then(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.isFulfilled()?t.push({state:"fulfilled",value:r.value()}):r.isRejected()?t.push({state:"rejected",reason:r.reason()}):t.push({state:"pending"})}return t})},h.prototype.allResolved=function(){return w(this).then(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.isFulfilled()?t.push(r(i.value())):t.push(r.reject(i.reason()))}return t})},h.prototype.join=function(e){return r([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},h.prototype.fbind=function(){var e=[].slice.call(arguments),t=this;return function(){var n=e.concat([].slice.call(arguments)),r=this;return t.then(function(e){return e.apply(r,n)})}},h.prototype.fapply=function(e){return this.then(function(t){return t.apply(void 0,e)})},h.prototype.try=h.prototype.fcall=function(){return this.fapply.call(this,[].slice.call(arguments))},h.prototype.nfapply=function(e){return this.then(function(t){return l(t,void 0,e)})},h.prototype.nfcall=function(){return this.nfapply.call(this,[].slice.call(arguments))},h.prototype.nfbind=h.prototype.denodeify=function(){var e=this,t=[].slice.call(arguments);return function(){var n=this,r=t.concat([].slice.call(arguments));return e.then(function(e){return l(e,n,r)})}},h.prototype.nbind=function(e){var t=this,n=[].slice.call(arguments,1);return function(){var r=n.concat([].slice.call(arguments));return t.then(function(t){return l(t,e,r)})}},h.prototype.npost=h.prototype.nmapply=function(e,t){return this.then(function(n){return l(n[e],n,t)})},h.prototype.ninvoke=h.prototype.nsend=h.prototype.nmcall=function(e){var t=[].slice.call(arguments,1);return this.then(function(n){return l(n[e],n,t)})},h.prototype.mapply=h.prototype.post=function(e,t){return e?(t.unshift(e),this.invoke.apply(this,t)):this.fapply(t)};var b=h.prototype.nodeify;h.prototype.nodeify=function(e){return"function"==typeof e?void b.call(this,e):this},h.prototype.inspect=function(){return this.isPending()?{state:"pending"}:this.isFulfilled()?{state:"fulfilled",value:this.value()}:{state:"rejected",reason:this.reason()}},h.prototype.passByCopy=function(){return this},h.prototype.set=function(e,t){return this.then(function(n){n[e]=t})},h.prototype.delete=h.prototype.del=function(e){return this.then(function(t){delete t[e]})},h.prototype.keys=function(){return this.then(function(e){return Object.keys(e)})},h.prototype.race=function(){return this.then(r.race)};var E=h.prototype.caught,x=h.prototype.timeout;h.prototype.timeout=function(e,t){var n=x.apply(this,arguments);return E.call(n,h.TimeoutError,function(e){if(e.code="ETIMEDOUT",t instanceof Error)throw t;throw e})},h.prototype.done=function(e,t,n){var i=function(e){var t=r.onerror,n=p(function(){if(o._attachExtraTrace(e),!t)throw e;t(e)});p.isStatic===!0&&"function"==typeof n&&n()},o=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(i=process.domain.bind(i)),o.then(void 0,i)};var C=p;Object.defineProperty(r,"nextTick",{get:function(){return p},set:function(e){"function"==typeof e?(p=e,h.setScheduler(e)):(p=C,h.setScheduler(C))}}),Object.defineProperty(r,"longStackSupport",{set:function(e){e&&h.longStackTraces()},get:function(){return h.haveLongStackTraces()}});var j=[],k=[],S=!1,R=!0;r.resetUnhandledRejections=a,r.getUnhandledReasons=function(){return j.slice()},r.stopUnhandledRejectionTracking=function(){a(),"undefined"!=typeof process&&process.on&&process.removeListener("exit",o),R=!1},a(),h.onPossiblyUnhandledRejection(function(e,t){s(t,e)}),h.onUnhandledRejectionHandled(u),Object.keys(g).forEach(function(e){var t=g[e];Array.isArray(t)||(t=[t]),t.forEach(function(t){h.prototype[t]=h.prototype[e]})}),Object.keys(_).forEach(function(e){var t=_[e];if(t===v){if("function"!=typeof h.prototype[e])throw new Error("unimplemented Promise.prototype."+e);r[e]=function(t){var n=r(t);return n[e].apply(n,[].slice.call(arguments,1))}}else Array.isArray(t)||(t=[t]),t.forEach(function(t){r[t]=h[e]})}),"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(r.longStackSupport=!0),c.prototype=r,c.prototype=h.prototype,t.exports=r},{"bluebird/js/release/promise":17,"bluebird/js/release/schedule":20}],2:[function(e,t,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=u}function i(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(e){s=e}var u=e("./schedule"),c=e("./queue"),l=e("./util");r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){l.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},l.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?i.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},r.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=a),r.prototype.invokeFirst=function(e,t,n){this._normalQueue.unshift(e,t,n),this._queueTick()},r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},t.exports=r,t.exports.firstLineError=s},{"./queue":19,"./schedule":20,"./util":25}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},u=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new e(t);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof e){var h={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(t,a,void 0,l,h),c._then(s,u,void 0,l,h),l._setOnCancel(c)}else l._resolveCallback(f);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+l.classString(e)+" has no method '"+l.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){var t=this.pop(),r=n(e,t);return r.apply(e,this)}function a(e){return e[this]}function s(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var u,c,l=e("./util"),f=l.canEvaluate,h=l.isIdentifier,p=function(e){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(n)},d=function(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))},v=function(e,t,n){var r=n[e];if("function"!=typeof r){if(!h(e))return null;if(r=t(e),n[e]=r,n[" size"]++,n[" size"]>512){for(var i=Object.keys(n),o=0;o<256;++o)delete n[i[o]];n[" size"]=i.length-256}}return r};u=function(e){return v(e,p,i)},c=function(e){return v(e,d,o)},t.prototype.call=function(e){for(var t=arguments.length,n=new Array(Math.max(t-1,0)),i=1;i<t;++i)n[i-1]=arguments[i];if(f){var o=u(e);if(null!==o)return this._then(o,void 0,void 0,n,void 0)}return n.push(e),this._then(r,void 0,void 0,n,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=s;else if(f){var r=c(e);t=null!==r?r:a}else t=a;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":25}],5:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,u=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e.isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n.isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":25}],6:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,s){return function(u){var c=s._boundValue();e:for(var l=0;l<e.length;++l){var f=e[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var h=o(f).call(c,u);if(h===a)return h;if(h)return o(n).call(c,u)}else if(r.isObject(u)){for(var p=i(f),d=0;d<p.length;++d){var v=p[d];if(f[v]!=u[v])continue e}return o(n).call(c,u)}}return t}}var r=e("./util"),i=e("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":11,"./util":25}],7:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){if(i)return new t}function r(){var e=o.length-1;if(e>=0)return o[e]}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,u=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=u,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],8:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,t){return{promise:t}}function i(){return!1}function o(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+N.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function a(e){if(!this.isCancellable())return this;var t=this._onCancel();void 0!==t?N.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function s(){return this._onCancelField}function u(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function l(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function f(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function h(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function p(){this._trace=new P(this._peekContext())}function d(e,t){if(q(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=x(e);N.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),N.notEnumerableProp(e,"__stackCleaned__",!0)}}}function v(e,t,n,r,i){if(void 0===e&&null!==t&&$){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="a promise was created in a "+n+"handler but was not returned from it";r._warn(o,!0,t)}}function g(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),_(n)}function _(e,n,r){if(re.warnings){var i,o=new M(e);if(n)r._attachExtraTrace(o);else if(re.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var a=x(o);o.stack=a.message+"\n"+a.stack.join("\n")}K("warning",o)||C(o,"",!0)}}function y(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function m(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function w(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=r[s];if(t[i]!==u)break;t.pop(),i--}t=r}}function b(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||D.test(r),o=i&&ee(r);i&&!o&&(B&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function E(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||D.test(r))break}return n>0&&(t=t.slice(n)),t}function x(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?E(e):["    (No stack trace)"],{message:n,stack:b(t)}}function C(e,t,n){if("undefined"!=typeof console){var r;if(N.isObject(e)){var i=e.stack;r=t+Q(i,e)}else r=t+String(e);"function"==typeof O?O(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function j(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){U.throwLater(e)}"unhandledRejection"===e?K(e,n,r)||i||C(n,"Unhandled rejection "):K(e,r)}function k(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():N.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var r=JSON.stringify(e);t=r}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+S(t)+">, no stack trace)"}function S(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function R(){return"function"==typeof ne}function I(e){var t=e.match(te);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function T(e,t){if(R()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var c=I(i[u]);if(c){n=c.fileName,a=c.line;break}}for(var u=0;u<o.length;++u){var c=I(o[u]);if(c){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(ee=function(e){if(H.test(e))return!0;var t=I(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function P(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ne(this,P),t>32&&this.uncycle()}var F,L,O,A=t._getDomain,U=t._async,M=e("./errors").Warning,N=e("./util"),q=N.canAttachTrace,H=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,D=null,Q=null,B=!1,W=!(0==N.env("BLUEBIRD_DEBUG")||!N.env("BLUEBIRD_DEBUG")&&"development"!==N.env("NODE_ENV")),z=!(0==N.env("BLUEBIRD_WARNINGS")||!W&&!N.env("BLUEBIRD_WARNINGS")),V=!(0==N.env("BLUEBIRD_LONG_STACK_TRACES")||!W&&!N.env("BLUEBIRD_LONG_STACK_TRACES")),$=0!=N.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(z||!!N.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),U.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){j("rejectionHandled",F,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),j("unhandledRejection",L,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,n){return _(e,t,n||this)},t.onPossiblyUnhandledRejection=function(e){var t=A();L="function"==typeof e?null===t?e:t.bind(e):void 0},t.onUnhandledRejectionHandled=function(e){var t=A();F="function"==typeof e?null===t?e:t.bind(e):void 0};var X=function(){};t.longStackTraces=function(){if(U.haveItemsQueued()&&!re.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!re.longStackTraces&&R()){var e=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace;re.longStackTraces=!0,X=function(){if(U.haveItemsQueued()&&!re.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=r,n.deactivateLongStackTraces(),U.enableTrampoline(),re.longStackTraces=!1},t.prototype._captureStackTrace=p,t.prototype._attachExtraTrace=d,n.activateLongStackTraces(),U.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return re.longStackTraces&&R()};var G=function(){try{var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),N.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!N.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),J=function(){return N.isNode?function(){return process.emit.apply(process,arguments)}:N.global?function(e){var t="on"+e.toLowerCase(),n=N.global[t];return!!n&&(n.apply(N.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),Y={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:r},K=function(e){var t=!1;try{t=J.apply(null,arguments)}catch(e){U.throwLater(e),t=!0}var n=!1;try{n=G(e,Y[e].apply(null,arguments))}catch(e){U.throwLater(e),n=!0}return n||t};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&X()),"warnings"in e){var n=e.warnings;re.warnings=!!n,$=re.warnings,N.isObject(n)&&"wForgottenReturn"in n&&($=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!re.cancellation){if(U.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=c,t.prototype._propagateFrom=l,t.prototype._onCancel=s,t.prototype._setOnCancel=u,t.prototype._attachCancellationCallback=a,t.prototype._execute=o,Z=l,re.cancellation=!0}"monitoring"in e&&(e.monitoring&&!re.monitoring?(re.monitoring=!0,t.prototype._fireEvent=K):!e.monitoring&&re.monitoring&&(re.monitoring=!1,t.prototype._fireEvent=i))},t.prototype._fireEvent=i,t.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var Z=f,ee=function(){return!1},te=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;N.inherits(P,Error),n.CapturedTrace=P,P.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<e;++r){var a=t[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var u=r>0?t[r-1]:this;s<e-1?(u._parent=t[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)t[l]._length=c,c++;return}}}},P.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=x(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(b(i.stack.split("\n"))),i=i._parent;w(r),m(r),N.notEnumerableProp(e,"stack",y(n,r)),N.notEnumerableProp(e,"__stackCleaned__",!0)}};var ne=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():k(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,D=e,Q=t;var n=Error.captureStackTrace;return ee=function(e){return H.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return D=/@/,Q=t,B=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(e){i="stack"in e}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(Q=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?k(t):t.toString()},null):(D=e,Q=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(O=function(e){console.warn(e)},N.isNode&&process.stderr.isTTY?O=function(e,t){
var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:N.isNode||"string"!=typeof(new Error).stack||(O=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var re={warnings:z,longStackTraces:!1,cancellation:!1,monitoring:!1};return V&&t.longStackTraces(),{longStackTraces:function(){return re.longStackTraces},warnings:function(){return re.warnings},cancellation:function(){return re.cancellation},monitoring:function(){return re.monitoring},propagateFromFunction:function(){return Z},boundValueFunction:function(){return h},checkForgottenReturns:v,setBounds:T,warn:_,deprecated:g,CapturedTrace:P,fireDomEvent:G,fireGlobalEvent:J}}},{"./errors":10,"./util":25}],9:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],10:[function(e,t,n){"use strict";function r(e,t){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:t),f(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(e){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var o,a,s=e("./es5"),u=s.freeze,c=e("./util"),l=c.inherits,f=c.notEnumerableProp,h=r("Warning","warning"),p=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(e){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(v.prototype[g[_]]=Array.prototype[g[_]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var y=0;v.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return y--,t},l(i,Error);var m=Error.__BluebirdErrorTypes__;m||(m=u({CancellationError:p,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:m,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:m.CancellationError,OperationalError:m.OperationalError,TimeoutError:m.TimeoutError,AggregateError:m.AggregateError,Warning:h}},{"./es5":11,"./util":25}],11:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},u=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},l=function(e){return e},f=function(e){try{return Object(e).constructor.prototype}catch(e){return a}},h=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:h,keys:s,names:s,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],12:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function i(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function a(){return u.call(this,this.promise._target()._settledValue())}function s(e){if(!o(this,e))return f.e=e,f}function u(e){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),e);if(void 0!==c){r._setReturnedNonUndefined();var h=n(c,r);if(h instanceof t){if(null!=this.cancelPromise){if(h.isCancelled()){var p=new l("late cancellation observer");return r._attachExtraTrace(p),f.e=p,f}h.isPending()&&h._attachCancellationCallback(new i(this))}return h._then(a,s,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=e,f):(o(this),e)}var c=e("./util"),l=t.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new r(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,u,u)},t.prototype.tap=function(e){return this._passThrough(e,1,u)},r}},{"./util":25}],13:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o,a=e("./util"),s=a.canEvaluate,u=a.tryCatch,c=a.errorObj;if(s){for(var l=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))},f=function(e){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,e))},h=function(e){for(var n=new Array(e),r=0;r<n.length;++r)n[r]="this.p"+(r+1);var i=n.join(" = ")+" = null;",o="var promise;\n"+n.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n"),a=n.join(", "),s="Holder$"+e,l="return function(tryCatch, errorObj, Promise) {           \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.now = 0;                                                \n            }                                                                \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    promise._pushContext();                                  \n                    var callback = this.fn;                                  \n                    var ret = tryCatch(callback)([ThePassedArguments]);      \n                    promise._popContext();                                   \n                    if (ret === errorObj) {                                  \n                        promise._rejectCallback(ret.e, false);               \n                    } else {                                                 \n                        promise._resolveCallback(ret);                       \n                    }                                                        \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise);                                      \n        ";return l=l.replace(/\[TheName\]/g,s).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,a).replace(/\[TheProperties\]/g,i).replace(/\[CancellationCode\]/g,o),new Function("tryCatch","errorObj","Promise",l)(u,c,t)},p=[],d=[],v=[],g=0;g<8;++g)p.push(h(g+1)),d.push(l(g+1)),v.push(f(g+1));o=function(e){this._reject(e)}}t.join=function(){var e,a=arguments.length-1;if(a>0&&"function"==typeof arguments[a]&&(e=arguments[a],a<=8&&s)){var u=new t(i);u._captureStackTrace();for(var c=p[a-1],l=new c(e),f=d,h=0;h<a;++h){var g=r(arguments[h],u);if(g instanceof t){g=g._target();var _=g._bitField;0===(50397184&_)?(g._then(f[h],o,void 0,u,l),v[h](g,l)):0!==(33554432&_)?f[h].call(u,g._value(),l):0!==(16777216&_)?u._reject(g._reason()):u._cancel()}else f[h].call(u,g,l)}return u._isFateSealed()||(u._setAsyncGuaranteed(),u._setOnCancel(l)),u}for(var y=arguments.length,m=new Array(y),w=0;w<y;++w)m[w]=arguments[w];e&&m.pop();var u=new n(m).promise();return void 0!==e?u.spread(e):u}}},{"./util":25}],14:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=c();this._callback=null===i?t:i.bind(t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,this._init$(void 0,-2)}function u(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}var c=t._getDomain,l=e("./util"),f=l.tryCatch,h=l.errorObj,p=[];l.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=e,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var c=this._promise,l=this._callback,p=c._boundValue();c._pushContext();var d=f(l).call(p,e,n,o),v=c._popContext();if(a.checkForgottenReturns(d,v,null!==s?"Promise.filter":"Promise.map",c),d===h)return this._reject(d.e),!0;var g=i(d,this._promise);if(g instanceof t){g=g._target();var _=g._bitField;if(0===(50397184&_))return u>=1&&this._inFlight++,r[n]=g,g._proxy(this,(n+1)*-1),!1;if(0===(33554432&_))return 0!==(16777216&_)?(this._reject(g._reason()),!0):(this._cancel(),!0);d=g._value()}r[n]=d}var y=++this._totalResolved;return y>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return u(this,e,t,null)},t.map=function(e,t,n,r){return u(e,t,n,r)}}},{"./util":25}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=a.isArray(c)?s(e).apply(l,c):s(e).call(l,c)}else u=s(e)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":25}],16:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&l.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new c(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=l.keys(e),i=0;i<n.length;++i){var o=n[i];f.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=i(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){for(var a=arguments.length,u=new Array(Math.max(a-1,0)),c=1;c<a;++c)u[c-1]=arguments[c];e._fulfill(u)}else e._fulfill(r);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,u=e("./errors"),c=u.OperationalError,l=e("./es5"),f=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":10,"./es5":11,"./util":25}],17:[function(e,t,n){"use strict";t.exports=function(){function t(){}function n(e,t){if("function"!=typeof t)throw new _("expecting a function but got "+h.classString(t));if(e.constructor!==r)throw new _("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function r(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==m&&(n(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function i(e){this.promise._resolveCallback(e)}function o(e){this.promise._rejectCallback(e,!1)}function a(e){var t=new r(m);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var s,u=function(){return new _("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},c=function(){return new r.PromiseInspection(this._target())},l=function(e){return r.reject(new _(e))},f={},h=e("./util");s=h.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},h.notEnumerableProp(r,"_getDomain",s);var p=e("./es5"),d=e("./async"),v=new d;p.defineProperty(r,"_async",{value:v});var g=e("./errors"),_=r.TypeError=g.TypeError;r.RangeError=g.RangeError;var y=r.CancellationError=g.CancellationError;r.TimeoutError=g.TimeoutError,r.OperationalError=g.OperationalError,r.RejectionError=g.OperationalError,r.AggregateError=g.AggregateError;var m=function(){},w={},b={},E=e("./thenables")(r,m),x=e("./promise_array")(r,m,E,l,t),C=e("./context")(r),j=(C.create,e("./debuggability")(r,C)),k=(j.CapturedTrace,e("./finally")(r,E)),S=e("./catch_filter")(b),R=e("./nodeback"),I=h.errorObj,T=h.tryCatch;return r.prototype.toString=function(){return"[object Promise]"},r.prototype.caught=r.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!h.isObject(o))return l("expecting an object but got "+h.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(void 0,S(r,e,this))}return this.then(void 0,e)},r.prototype.reflect=function(){return this._then(c,c,void 0,this,void 0)},r.prototype.then=function(e,t){if(j.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},r.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},r.prototype.spread=function(e){return"function"!=typeof e?l("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,w,void 0)},r.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},r.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},r.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},r.is=function(e){return e instanceof r},r.fromNode=r.fromCallback=function(e){var t=new r(m);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=T(e)(R(t,n));return i===I&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},r.all=function(e){return new x(e).promise()},r.cast=function(e){var t=E(e);return t instanceof r||(t=new r(m),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},r.resolve=r.fulfilled=r.cast,r.reject=r.rejected=function(e){var t=new r(m);return t._captureStackTrace(),t._rejectCallback(e,!0),t},r.setScheduler=function(e){if("function"!=typeof e)throw new _("expecting a function but got "+h.classString(e));return v.setScheduler(e)},r.prototype._then=function(e,t,n,i,o){var a=void 0!==o,u=a?o:new r(m),c=this._target(),l=c._bitField;a||(u._propagateFrom(this,3),u._captureStackTrace(),void 0===i&&0!==(2097152&this._bitField)&&(i=0!==(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,u));var f=s();if(0!==(50397184&l)){var h,p,d=c._settlePromiseCtx;0!==(33554432&l)?(p=c._rejectionHandler0,h=e):0!==(16777216&l)?(p=c._fulfillmentHandler0,h=t,c._unsetRejectionIsUnhandled()):(d=c._settlePromiseLateCancellationObserver,p=new y("late cancellation observer"),c._attachExtraTrace(p),h=t),v.invoke(d,c,{handler:null===f?h:"function"==typeof h&&f.bind(h),promise:u,receiver:i,value:p})}else c._addCallbacks(e,t,u,i,f);return u},r.prototype._length=function(){return 65535&this._bitField},r.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},r.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},r.prototype._setLength=function(e){this._bitField=this._bitField&-65536|65535&e},r.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},r.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},r.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},r.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},r.prototype._isFinal=function(){return(4194304&this._bitField)>0},r.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},r.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},r.prototype._setAsyncGuaranteed=function(){v.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},r.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==f)return void 0===t&&this._isBound()?this._boundValue():t},r.prototype._promiseAt=function(e){return this[4*e-4+2]},r.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},r.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},r.prototype._boundValue=function(){},r.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=f),this._addCallbacks(t,n,r,i,null)},r.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=f),this._addCallbacks(n,r,i,o,null)},r.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:i.bind(e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:i.bind(t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:i.bind(e)),"function"==typeof t&&(this[a+1]=null===i?t:i.bind(t))}return this._setLength(o+1),o},r.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},r.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(u(),!1);var n=E(e,this);if(!(n instanceof r))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(u());var o=i._bitField;if(0===(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!==(33554432&o))this._fulfill(i._value());else if(0!==(16777216&o))this._reject(i._reason());else{var c=new y("late cancellation observer");i._attachExtraTrace(c),this._reject(c)}}},r.prototype._rejectCallback=function(e,t,n){var r=h.ensureErrorObject(e),i=r===e;if(!i&&!n&&j.warnings()){var o="a promise was rejected with a non-error: "+h.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},r.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)},r.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;t===w?n&&"number"==typeof n.length?o=T(e).apply(this._boundValue(),n):(o=I,o.e=new _("cannot .spread() a non-array: "+h.classString(n))):o=T(e).call(t,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===b?r._reject(n):o===I?r._rejectCallback(o.e,!1):(j.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},r.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},r.prototype._followee=function(){return this._rejectionHandler0},r.prototype._setFollowee=function(e){this._rejectionHandler0=e},r.prototype._settlePromise=function(e,n,i,o){var a=e instanceof r,s=this._bitField,u=0!==(134217728&s);0!==(65536&s)?(a&&e._invokeInternalOnCancel(),i instanceof k&&i.isFinallyHandler()?(i.cancelPromise=e,T(n).call(i,o)===I&&e._reject(I.e)):n===c?e._fulfill(c.call(i)):i instanceof t?i._promiseCancelled(e):a||e instanceof x?e._cancel():i.cancel()):"function"==typeof n?a?(u&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(n,i,o,e)):n.call(i,o,e):i instanceof t?i._isResolved()||(0!==(33554432&s)?i._promiseFulfilled(o,e):i._promiseRejected(o,e)):a&&(u&&e._setAsyncGuaranteed(),0!==(33554432&s)?e._fulfill(o):e._reject(o))},r.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,o=e.value;"function"==typeof t?n instanceof r?this._settlePromiseFromHandler(t,i,o,n):t.call(i,o,n):n instanceof r&&n._reject(o)},r.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},r.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},r.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},r.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=u();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():v.settlePromises(this))}},r.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?v.fatalError(e,h.isNode):void((65535&t)>0?v.settlePromises(this):this._ensurePossibleRejectionHandled())},r.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},r.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},r.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},r.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},r.defer=r.pending=function(){j.deprecated("Promise.defer","new Promise");var e=new r(m);return{promise:e,resolve:i,reject:o}},h.notEnumerableProp(r,"_makeSelfResolutionError",u),e("./method")(r,m,E,l,j),e("./bind")(r,m,E,j),e("./cancel")(r,x,l,j),e("./direct_resolve")(r),e("./synchronous_inspection")(r),e("./join")(r,x,E,m,j),r.Promise=r,r.version="3.4.0",e("./call_get.js")(r),e("./map.js")(r,x,l,E,m,j),e("./settle.js")(r,x,j),e("./timers.js")(r,m,j),h.toFastProperties(r),h.toFastProperties(r.prototype),a({a:1}),a({b:2}),a({c:3}),a(1),a(function(){}),a(void 0),a(!1),a(new r(m)),j.setBounds(d.firstLineError,h.lastLineError),r}},{"./async":2,"./bind":3,"./call_get.js":4,"./cancel":5,"./catch_filter":6,"./context":7,"./debuggability":8,"./direct_resolve":9,"./errors":10,"./es5":11,"./finally":12,"./join":13,"./map.js":14,"./method":15,"./nodeback":16,"./promise_array":18,"./settle.js":21,"./synchronous_inspection":22,"./thenables":23,"./timers.js":24,"./util":25}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function a(e){switch(e){case-2:return[];case-3:return{}}}function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=e("./util");u.isArray;return u.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){s=s._target();var c=s._bitField;if(this._values=s,0===(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0===(33554432&c))return 0!==(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(s=u.asArray(s),null===s){var l=i("expecting an array or an iterable object but got "+u.classString(s)).reason();return void this._promise._rejectCallback(l,!1)}return 0===s.length?void(o===-5?this._resolveEmptyArray():this._resolve(a(o))):void this._iterate(s)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(e[s],i);u instanceof t?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0===(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!==(33554432&a)?this._promiseFulfilled(u._value(),s):0!==(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":25}],19:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&t-1^t)-t;this[r]=e,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,i=this._length,o=n+i&t-1;r(this,0,this,t,o)},t.exports=i},{}],20:[function(e,t,n){"use strict";var r,i=e("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},a=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var s=global.setImmediate,u=process.nextTick;r=i.isRecentNode?function(e){s.call(global,e)}:function(e){u.call(process,e)}}else if("function"==typeof a){var c=a.resolve();r=function(e){c.then(e)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:o:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});i.observe(r,t);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){
var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),o()}}();t.exports=r},{"./util":25}],21:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e)}var o=t.PromiseInspection,a=e("./util");a.inherits(i,n),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":25}],22:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=e.prototype._isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype.isCancelled=function(){return this._target()._isCancelled()},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],23:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,r){if(l(e)){if(e instanceof t)return e;var i=o(e);if(i===c){r&&r._pushContext();var u=t.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(a(e)){var u=new t(n);return e._then(u._fulfill,u._reject,void 0,u,null),u}return s(e,i,r)}}return e}function i(e){return e.then}function o(e){try{return i(e)}catch(e){return c.e=e,c}}function a(e){try{return f.call(e,"_promise0")}catch(e){return!1}}function s(e,r,i){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,f,!0),s=null)}var s=new t(n),l=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,h=u.tryCatch(r).call(e,o,a);return f=!1,s&&h===c&&(s._rejectCallback(h.e,!0,!0),s=null),l}var u=e("./util"),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},{"./util":25}],24:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),u=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(c,null,null,e,void 0),r.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(n),s=setTimeout(function(){a._fulfill()},+e),r.cancellation()&&a._setOnCancel(new i(s))),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return l(e,this)};var f=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new u("operation timed out"):new u(t),s.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,u=new i(setTimeout(function(){n.isPending()&&f(n,t,s)},e));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,a,void 0,u,void 0),n}}},{"./util":25}],25:[function(e,t,n){"use strict";function r(){try{var e=R;return R=null,e.apply(this,arguments)}catch(e){return S.e=e,S}}function i(e){return R=e,r}function o(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return o(e)?new Error(g(e)):e}function u(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function c(e,t,n){if(!j.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function l(e,t,n){if(o(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return j.defineProperty(e,t,r),e}function f(e){throw e}function h(e){try{if("function"==typeof e){var t=j.names(e.prototype),n=j.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=F.test(e+"")&&j.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}}function p(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function d(e){return L.test(e)}function v(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function g(e){try{return e+""}catch(e){return"[no string representation]"}}function _(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function y(e){try{l(e,"isOperational",!0)}catch(e){}}function m(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function w(e){return _(e)&&j.propertyIsWritable(e,"stack")}function b(e){return{}.toString.call(e)}function E(e,t,n){for(var r=j.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{j.defineProperty(t,o,j.getDescriptor(e,o))}catch(e){}}}function x(e,t){return M?process.env[e]:t}function C(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}var j=e("./es5"),k="undefined"==typeof navigator,S={e:{}},R,I="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,T=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},P=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(j.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var u=Object.getOwnPropertyDescriptor(e,s);null!=u&&null==u.get&&null==u.set&&r.push(s)}}e=j.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),F=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,O=function(){return"stack"in new Error?function(e){return w(e)?e:new Error(g(e))}:function(e){if(w(e))return e;try{throw new Error(g(e))}catch(e){return e}}}(),A=function(e){return j.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var U="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};A=function(e){return j.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?U(e):null}}var M="undefined"!=typeof process&&"[object process]"===b(process).toLowerCase(),N={isClass:h,isIdentifier:d,inheritedDataKeys:P,getDataPropertyOrDefault:c,thrower:f,isArray:j.isArray,asArray:A,notEnumerableProp:l,isPrimitive:o,isObject:a,isError:_,canEvaluate:k,errorObj:S,tryCatch:i,inherits:T,withAppended:u,maybeWrapAsError:s,toFastProperties:p,filledRange:v,toString:g,canAttachTrace:w,ensureErrorObject:O,originatesFromRejection:m,markAsOriginatingFromRejection:y,classString:b,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:M,env:x,global:I,getNativePromise:C};N.isRecentNode=N.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),N.isNode&&N.toFastProperties(process);try{throw new Error}catch(e){N.lastLineError=e}t.exports=N},{"./es5":11}]},{},[1])(1)}),define("sap/watt/core/q",["sap/watt/lib/q/q","sap/watt/core/UtilsCore"],function(e,t){"use strict";function n(e,t){for(var n=0;n<e.length;n++){var r=e[n];if("function"!=typeof t[r])throw new Error("Trying to disable non-existent functionality");t[r]=function(){throw new Error("The method "+r+" of "+t.constructor.name+" was disabled by Web IDE core team. If you have some use case that needs this method please inform us.")}}}if(self.Q=e,"function"!=typeof e.getBluebirdPromise)throw new Error("bluebird-q adapter is missing in lib/q.js");var r=e.getBluebirdPromise();n(["bind","break","call","cancel","catchReturn","catchThrow","error"],r.prototype),n(["deferred","fulfilled","pending"],e),"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||r.setScheduler(function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});i.observe(r,t);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),o()}}());var i=!!sap.watt.getURLParameter("sap-ide-debug-async")||!!sap.watt.getURLParameter("debugAsync");return i&&(e.getBluebirdPromise().config({warnings:!!i&&{wForgottenReturn:!1},longStackTraces:i,monitoring:!!i&&"no_dom_events"}),require(["sap/watt/core/DebugHooks"],function(e){e.hookToBluebird(r,{maxChainLength:!!i&&1e3,maxPendingPromises:!!i&&2e4,tracing:i,monitor:i})})),e}),define("sap/watt/ui5/UI5Loader",["sap/watt/core/q"],{load:function(e){if(window.jQuery&&window.jQuery.sap)return Q();var t=function(t){var a={};a[i]=o;var s="sap.ui.commons,sap.ui.table,sap.ui.ux3,sap.m,sap.watt.ui,sap.uxap,sap.ui.unified,sap.tnt,sap.ui.comp";window["sap-ui-config"]=window["sap-ui-config"]||{},window["sap-ui-config"].libs=s,window["sap-ui-config"].preload="async",window["sap-ui-config"].theme=i,window["sap-ui-config"].themeroots=a,window["sap-ui-config"].resourceroots={"sap.watt":r+"sap/watt","sap.hana":r+"sap/hana"},/sap-ui-language=/i.test(window.location.search)||(window["sap-ui-config"]["xx-supportedLanguages"]=""),window["sap-ui-config"]["xx-bindingSyntax"]="complex",sap.watt.getEnv("debugMode")||t||(window["sap-ui-config"]["xx-preloadLibCss"]="!sap.ui.core,sap.ui.layout,sap.ui.commons,sap.ui.table,sap.ui.ux3,sap.ui.unified");var u="",c=/[&?](sap-ui-debug=(true|x)[&#]?)+/i.test(window.location.search),l=window.localStorage&&"X"==window.localStorage.getItem("sap-ui-debug");(l||c)&&(u+="-dbg"),define=function(e,t,r){"string"==typeof e?n.apply(this,arguments):sap.watt.getEnv("debugMode")&&console.error("UI5Loader: error loading anonymous module.",(new Error).stack)},define.amd=n.amd;var f,h=[];h.push("resources/sap-ui-core"),window.ui5WattQunit&&(h.push("resources/sap/ui/thirdparty/qunit"),h.push("resources/sap/ui/qunit/QUnitUtils"));var p=Q.defer(),d=!(sap.watt.getEnv("ui5_from_cdn")===!0),v=function(){var r=h.shift(),i=/^(resources\/)(.*)$/.exec(r);if(i){var o=sap.watt.getEnv("ui5_root")+i[1];f&&d&&(o+="~"+f+"~/"),o+=i[2]+u+".js",sap.watt.getEnv("staticWSMode")&&(o=sap.watt.getEnv("staticWSUI5Root")+"sap-ui-core"+u+".js"),e.ui5_core_url||(e.ui5_core_url=o),sap.watt.includeScript(o).then(function(){var e=Q.defer();return sap.ui.getCore().attachInit(function(){e.resolve()}),e.promise}).then(v)}else{if(window.ui5WattQunit){var a=document.querySelectorAll("script[data-sap-ide-main]")[0].getAttribute("data-sap-blanket-cover");if(a){var s=document.createElement("script");s.type="text/javascript",s.src=require.toUrl("qunit/util/blanketjs/blanket.js"),s.setAttribute("data-cover-only",require.toUrl(a)),document.getElementsByTagName("head")[0].appendChild(s)}}define=n,sap.watt.getEnv("debugMode")||t||sap.ui.getCore().includeLibraryTheme("sap.watt.preload"),jQuery.sap.require("jquery.sap.resources");var c=sap.ui.getCore().getConfiguration(),l=c.getLanguage(),g=c.getLanguagesDeliveredWithCore(),_=jQuery.sap.resources._getFallbackLocales(l,g),l=_[0],y=jQuery.sap.getUriParameters(),m=y.get("sap-ui-language");m||(l="en"),c.setLanguage(l),window.sap.watt.locale=l,p.resolve()}},g=function(e){var t=new XMLHttpRequest;t.open("GET",sap.watt.getEnv("ui5_root")+"resources/sap-ui-cachebuster"),t.onload=function(n){if(4===t.readyState){if(200===t.status){var r=/~?([a-zA-Z0-9-\.]+)~?/i.exec(t.responseText);if(f=r&&r[1],"function"==typeof e)return void e()}else window.console&&window.console.error(t.statusText);e()}},t.onerror=function(t){window.console&&window.console.error(t.message),e()},t.send(null)};return/^(java|hcproxy|local_hcproxy)$/gi.test(sap.watt.getEnv("server_type"))&&d?g(v):v(),sap.watt.includeUi5=function(e,t,n){t["sap-ui-config"]=e;var r=sap.watt.getEnv("ui5_core_url");if(t.document.write('<script src="'+r+'"></script>'),n){if("async"!==e.preload)throw new Error("Trying to supply callback for UI5 that is synchronously loaded, add preload attribute to UI5 configuration");sap.ui.getCore().attachInit(n)}},p.promise},n=define,r=sap.watt.getEnv("base_path"),i=sap.watt.getEnv("themename")||"sap_flat",o=sap.watt.getEnv("themeroots")||r,a=!1;if("hcproxy"!==sap.watt.getEnv("server_type")){var s=o+"sap/watt/preload/themes/"+i+"/library.css";return this._headJax(s).then(function(e){return a=!(404!==e),t(a)})}return t(a)},_headJax:function(e){var t=Q.defer(),n=new XMLHttpRequest;return n.open("GET",e),n.onload=function(){t.resolve(n.status)},n.send(null),t.promise}}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("sap/watt/lib/xhr/xhrlib",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.xhrlib=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(e){this.handlers=new i(["windowfailed"]),this.FrameProxyClass=e||a}var i=e("./EventHandlers.js"),o=e("./events.js"),a=e("./FrameProxy.js");t.exports=r,r.prototype.create=function(){return this.frameProxy=new this.FrameProxyClass(this),this.frameProxy},r.prototype.destroy=function(){this.frameProxy&&(this.frameProxy.close(),this.frameProxy=void 0)},r.prototype.show=function(){},r.prototype.addEventListener=function(e,t){this.handlers.add(e,t)},r.prototype.removeEventListener=function(e,t){this.handlers.remove(e,t)},r.prototype.dispatchWindowFailedEvent=function(){var e=this,t=o.createEvent("windowfailed");setTimeout(function(){e.handlers.dispatch(t)},0)}},{"./EventHandlers.js":5,"./FrameProxy.js":7,"./events.js":14}],2:[function(e,t,n){"use strict";function r(e,t,n,r,i,o){this.filters=[],this.xhr=e,this.method=t,this.url=n,this.async=!!r,void 0!==i&&(this.username=i),void 0!==o&&(this.password=o)}var i;t.exports=r,i=r.prototype,i._process=function(e){var t,n,r,i;for(t=this.filters,i=t.length,r=0;r<i;++r)n=t[r],"function"==typeof n[e]&&n[e](this)},i.aborting=function(){this._process("aborting")},i.aborted=function(){this._process("aborted")},i.opening=function(){this._process("opening")},i.opened=function(){this._process("opened")},i.sending=function(){this._process("sending")},i.sent=function(){this._process("sent")},i.reopening=function(){this._process("reopening")},i.catch=function(e){var t,n,r;for(t=this.filters,r=t.length,n=0;n<r;++n)if("function"==typeof t[n].catch)try{t[n].catch(e,this),e=null;break}catch(t){e=t}if(e)throw e}},{}],3:[function(e,t,n){"use strict";function r(){this._filterFactories=[],this.ignore=new u}function i(e){var t;return t=typeof e,"function"===t||"object"===t&&null!==e&&"function"==typeof e.addFilter}function o(e,t){"function"==typeof e?e(t):e.addFilter(t)}var a,s=e("./Channel.js"),u=e("./IgnoreList.js");t.exports=r,a=r.prototype,a.reset=function(){this._filterFactories=[],this.ignore=new u},a.addFilterFactory=function(e){var t,n,r,o;if(!i(e))throw new TypeError("addFilterFactory expects a FilterFactory or a function parameter");for(n=this._filterFactories,t=!0,o=n.length,r=0;r<o;++r)if(n[r]===e){t=!1;break}t&&this._filterFactories.push(e)},a.removeFilterFactory=function(e){var t,n,r;for(t=this._filterFactories,r=t.length,n=0;n<r;++n)if(t[n]===e){t.splice(n,1);break}},a.getFilterFactories=function(){return this._filterFactories.slice()},a.create=function(e,t,n,r,i,a){var u,c,l,f;if(u=new s(e,t,n,r,i,a),!this.ignore.ignored(n))for(c=this._filterFactories,f=c.length,l=0;l<f;++l)o(c[l],u);return u}},{"./Channel.js":2,"./IgnoreList.js":8}],4:[function(e,t,n){"use strict";function r(){this.frameCounter=0,this.handlers=new a([s])}var i,o=e("./events.js"),a=e("./EventHandlers.js"),s="authenticationrequired";t.exports=r,i=r.prototype,i.addEventListener=function(e,t){this.handlers.add(e,t)},i.removeEventListener=function(e,t){this.handlers.remove(e,t)},i.dispatchAuthenticationRequired=function(){var e=this,t=o.createEvent(s);setTimeout(function(){e.handlers.dispatch(t)},0)},i.create=function(){var e,t,n=this;return this.destroy(),this.handlers.hasSubscribers(s)?(this.dispatchAuthenticationRequired(),null):(this.frameCounter+=1,e="xhrLogonFrame"+this.frameCounter,this.frame=document.createElement("iframe"),this.frame.id=e,this.frame.style.display="none","complete"===document.readyState?document.body.appendChild(this.frame):(t=function(){"complete"===document.readyState&&(document.body.appendChild(n.frame),o.removeEventListener(document,"readystatechange",t))},o.addEventListener(document,"readystatechange",t)),this.frame)},i.destroy=function(){this.frame&&(document.body.removeChild(this.frame),this.frame=null)},i.show=function(e){var t=this.frame;!e&&this.handlers.hasSubscribers(s)?this.dispatchAuthenticationRequired():t&&(t.style.display="block",t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.width="100%",t.style.height="100%",t.style.zIndex=99999,t.style.border=0,t.style.background="white")}},{"./EventHandlers.js":5,"./events.js":14}],5:[function(e,t,n){"use strict";function r(e){var t,n;for(n=e.length,t=0;t<n;++t)this[e[t]]=[];this.subscriptions={},this.bufferedEvents=[]}function i(e){var t;return t=typeof e,"function"===t||"object"===t&&null!==e&&"function"==typeof e.handleEvent}function o(e,t,n){try{"function"==typeof e?e.call(t.currentTarget,t):e.handleEvent(t)}catch(e){throw n&&n.warning("Exception in "+t.type+" event handler: "+e.message),e}}var a,s=e("./Log.js").logger;t.exports=r,a=r.prototype,a.add=function(e,t){var n,r,o,a;if(i(t)&&(r=this[e])){for(n=!0,a=r.length,o=0;o<a;++o)if(r[o]===t){n=!1;break}n&&r.push(t)}},a.remove=function(e,t){var n,r,o;if(i(t)&&(n=this[e]))for(o=n.length,r=0;r<o;++r)if(n[r]===t){1===o?this[e]=[]:n.splice(r,1);break}},a.dispatch=function(e){var t,n,r,i,a;if(this.suspend)this.bufferedEvents.push(e);else{if(r=e.type,t=this[r])for(t=t.slice(),a=t.length,i=0;i<a;++i)o(t[i],e,s);if(n=this["on"+r])try{n.call(e.currentTarget,e)}catch(e){throw s.warning("Exception in on"+r+" callback: "+e.message),e}}},a.clearEvents=function(){this.bufferedEvents=[]},a.releaseEvents=function(){var e,t,n;if(n=this.bufferedEvents,t=n.length,t>0)for(this.clearEvents(),e=0;e<t;++e)this.dispatch(n[e])},a.hasSubscribers=function(e){var t,n;return t=this[e],n=!!t&&(t.length>0||this["on"+e])},a.subscribed=function(e){return!!this.subscriptions[e]},a.subscribe=function(e){this.subscriptions[e]=!0},a.unsubscribe=function(e){delete this.subscriptions[e]}},{"./Log.js":9}],6:[function(e,t,n){"use strict";function r(e){this.logonManager=e,this._lfp=new a,e.addEventListener("xhrlogon",this),e.addEventListener("xhrlogoncomplete",this),e.addEventListener("xhrlogonfailed",this)}var i,o,a=e("./DefaultLogonFrameProvider.js"),s=e("./LogonManager.js"),u=e("./URL.js");t.exports=r,r.getInstance=function(){return i},r.startup=function(){return i||(i=new r(s.startup())),i},r.shutdown=function(){i&&(i.shutdown(),i=null)},o=r.prototype,Object.defineProperties(o,{logonFrameProvider:{get:function(){return this._lfp},set:function(e){e?this._lfp=e:this._lfp=new a}}}),o.shutdown=function(){var e;e=this.logonManager,e&&(e.removeEventListener("xhrlogon",this),e.removeEventListener("xhrlogoncomplete",this),e.removeEventListener("xhrlogonfailed",this))},o.getFrameLoadHandler=function(e,t,n){var r,i;return n=n||300,r=function(){i&&clearTimeout(i),i=setTimeout(function(){e.show()},n)}},o.onXHRLogon=function(e){var t,n,r;this.cancelXHRLogon(),t=new u(e.channel.url),t.setParameter("xhr-logon","iframe"),n=this.logonFrameProvider,r=n.create(),r&&(r.onload||(r.onload=this.getFrameLoadHandler(n,r.id)),r.src=t.href),this.pending=n},o.onXHRLogonComplete=function(){this.pending&&(this.pending.destroy(),this.pending=void 0)},o.cancelXHRLogon=function(){this.pending&&(s.getInstance().abortXHRLogon(),this.onXHRLogonComplete())},o.handleEvent=function(e){var t;switch(e.type){case"xhrlogon":t=e.request,t&&this.onXHRLogon(t);break;case"xhrlogoncomplete":this.onXHRLogonComplete();break;case"xhrlogonfailed":this.onXHRLogonComplete()}}},{"./DefaultLogonFrameProvider.js":4,"./LogonManager.js":10,"./URL.js":11}],7:[function(e,t,n){"use strict";function r(e){this.provider=e}function i(e,t){return setTimeout(function(){e.window||e.createWindow()},t)}var o,a=e("./events.js"),s=e("./FrameLogonManager.js"),u=e("./Log.js").logger;t.exports=r,o=r.prototype,r.frameCounter=0;var c='<div>Authentication required</div><div><a id="POPUP_LOGIN_LINK" target="_blank" href="javascript:void(0)">Proceed to sign in</a></div>';Object.defineProperty(o,"src",{get:function(){return this.url},set:function(e){this.initialize(e)}}),o.initialize=function(e){var t,n=this;this.close(),this.closed=!1,this.url=e,this.createPollingFrame(),t=i(n,500),a.addEventListener(this.frame,"load",function(){t&&clearTimeout(t),t=i(n,500)})},o.closeFrame=function(){this.frame&&(document.body.removeChild(this.frame),this.frame=void 0)},o.close=function(){try{this.closed=!0,this.pollIntervalId&&(clearInterval(this.pollIntervalId),this.pollIntervalId=void 0),this.windowIntervalId&&(clearInterval(this.windowIntervalId),this.windowIntervalId=void 0),this.closeAlertWindow(),this.closeFrame(),this.window&&(setTimeout(function(){window.focus()},100),this.window.close(),this.window=void 0)}catch(e){u.warning("Error while closing logon window: "+e.message)}},o.cancelLogon=function(){this.closed||(u.warning("XHR Logon cancelled"),this.close(),s.getInstance().cancelXHRLogon())},o.createPollingFrame=function(){function e(){"complete"===document.readyState&&document.body.appendChild(t)}var t,n;this.closed||(r.frameCounter+=1,n="xhrLogonFrame"+r.frameCounter,t=document.createElement("iframe"),t.id=n,t.style.display="none","complete"===document.readyState?document.body.appendChild(t):a.addEventListener(document,"readystatechange",e),this.frame=t,t.src=this.url)},o.onWindowOpenFailed=function(){u.warning("Failed to open logon window"),this.cancelLogon(),this.provider.dispatchWindowFailedEvent()},o.createAlertWindow=function(){var e=this;this.alertContainer&&this.closeAlertWindow(),this.alertContainer=document.createElement("div"),this.alertContainer.className="alertContainer",this.alertContainer.innerHTML=c,document.body.appendChild(this.alertContainer),setTimeout(function(){var t=document.getElementById("POPUP_LOGIN_LINK");t.onclick=function(){e.createWindow()}})},o.closeAlertWindow=function(){this.alertContainer&&(this.alertContainer.parentNode.removeChild(this.alertContainer),this.alertContainer=null)},o.createWindow=function(){var e,t=this;e=window.open(this.url),e&&!e.closed||(u.warning("Failed to open logon window, alerting user"),this.createAlertWindow()),this.window=e,a.addEventListener(e,"load",function(){u.info("Logon window opened"),t.pollIntervalId&&clearInterval(t.pollIntervalId),t.closed||(t.pollIntervalId=setInterval(function(){t.poll()},5e3),t.windowIntervalId||(t.windowIntervalId=setInterval(function(){var e=t.window;try{!e||e.closed?t.cancelLogon():"function"==typeof e.notifyParent&&t.poll()}catch(e){u.warning("Logon polling failed: "+e.message)}},300)),setTimeout(function(){t.poll()},300))}),a.addEventListener(e,"close",function(){t.cancelLogon()}),setTimeout(function(){try{t.window&&t.window.focus()}catch(e){u.warn("Failed to switch focus to logon window")}},300)},o.poll=function(){this.window&&this.window.closed?this.cancelLogon():(this.closeFrame(),this.createPollingFrame())}},{"./FrameLogonManager.js":6,"./Log.js":9,"./events.js":14}],8:[function(e,t,n){"use strict";function r(){this.p=[],this.r=[],this.f=[]}var i;t.exports=r,i=r.prototype,String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),i.add=function(e){switch(typeof e){case"string":this.p.push(e);break;case"object":if(!(e instanceof RegExp))throw new TypeError("Unsupported ignore rule type");this.r.push(e);break;case"function":this.f.push(e);break;default:throw new TypeError("Unsupported ignore rule type")}},i.ignored=function(e){var t;return t=this._prefix(e)||this._regexp(e)||this._function(e)},i.clear=function(){this.p=[],this.r=[],this.f=[]},i._prefix=function(e){var t,n,r,i;for(i=!1,t=this.p,r=t.length,n=0;n<r;++n)if(e.startsWith(t[n])){i=!0;break}return i},i._regexp=function(e){var t,n,r,i;for(i=!1,t=this.r,r=t.length,n=0;n<r;++n)if(t[n].test(e)){i=!0;break}return i},i._function=function(e){var t,n,r,i;for(i=!1,t=this.f,r=t.length,n=0;n<r;++n)try{if(t[n](e)){i=!0;break}}catch(e){}return i}},{}],9:[function(e,t,n){"use strict";function r(e){this.logger=e}function i(e,t){var n,r;for(r=t.length,n=0;n<r;++n)if("function"!=typeof e[t[n]])return!1;return!0}function o(e){return e&&"object"==typeof e&&i(e,u)}var a,s={},u=["error","warning","info","debug"];s.error=s.warning=s.info=s.debug=function(){},t.exports=r,Object.defineProperty(r,"logger",{get:function(){return a},set:function(e){e?o(e)&&(a.logger=e):a.logger=s}}),u.forEach(function(e){r.prototype[e]=function(t){try{return this.logger[e](t)}catch(e){}}}),a=new r(s)},{}],10:[function(e,t,n){"use strict";function r(e){if(a)throw new Error("XHR Logon Manager already created");f.info("Creating XHR Logon Manager"),this.queue=[],this.realms={},this.handlers=new c(s),e&&(this._filterFactory=e),this._initializeTrustedOrigins(),this._registerFilterFactory(),window.addEventListener("message",this.getEventHandler())}function i(e){return e>=200&&e<300||304===e}e("./xhr.js");var o,a,s,u=e("./events.js").createEvent,c=e("./EventHandlers.js"),l=e("./IgnoreList.js"),f=e("./Log.js").logger,h=e("./XHRLogonFilter.js"),p=XMLHttpRequest;o={AUTHENTICATED:0,UNAUTHENTICATED:1,PENDING:2},s=["xhrlogon","xhrlogoncomplete","xhrlogonfailed","xhrlogonaborted"],t.exports=r,r.startup=function(e){return a||(a=new r(e)),a},r.shutdown=function(){a&&(a.shutdown(),a=void 0)},r.getInstance=function(){return a},r.prototype.triggerLogonOnSyncRequest=!0,r.prototype.addEventListener=function(e,t){this.handlers.add(e,t)},r.prototype.removeEventListener=function(e,t){this.handlers.remove(e,t)},r.prototype.dispatchEvent=function(e){this.handlers.dispatch(e)},r.prototype.dispatchLogonEvent=function(e){var t;t=u("xhrlogon"),t.request=e,this.dispatchEvent(t)},r.prototype.dispatchLogonCompletedEvent=function(e){var t;t=u("xhrlogoncomplete"),t.xhrLogon=e,this.dispatchEvent(t)},r.prototype.dispatchLogonFailedEvent=function(e){var t;t=u("xhrlogonfailed"),t.xhrLogon=e,this.dispatchEvent(t)},r.prototype.dispatchLogonAbortedEvent=function(e){var t;t=u("xhrlogonaborted"),t.realm=e,this.dispatchEvent(t)},r.prototype.getRealmStatus=function(e){var t;return t=this.realms[e],void 0===t&&(t=o.UNAUTHENTICATED,this.realms[e]=t),t},r.prototype.isQueued=function(e){var t,n,r;if(this.pending&&this.pending.channel&&this.pending.channel.xhr===e)return!0;for(t=0,n=this.queue.length;t<n;++t)if(r=this.queue[t],r.channel&&r.channel.xhr===e)return!0;return!1},r.prototype.onXHRLogon=function(e){var t,n;return e&&e.channel?this.isQueued(e.channel.xhr)?void f.debug("Ignoring authentication request for already queued request "+e.channel.url):(f.info("Authentication requested for "+e.channel.url),void(this.handlers.hasSubscribers("xhrlogon")?(t=e.header.realm,this.pending?(f.debug("Pending authentication process, queueing request"),this.getRealmStatus(t)===o.AUTHENTICATED&&(this.realms[t]=o.UNAUTHENTICATED),this.queue.push(e)):(f.debug("Dispatching authentication request"),this.realms[t]=o.PENDING,this.pending=e,this.dispatchLogonEvent(e))):(f.info("No authentication handler registered"),n=this.queue,this.queue=[],n.push(e),this.pending&&(n.push(this.pending),this.pending=void 0),this.abort(n)))):void f.warn("Ignoring invalid XHR Logon request")},r.prototype.onXHRLogonCompleted=function(e){var t,n,r,a,s,u,c;for(t=e.realm,r=this.queue,a=[],s=[],n=i(e.status),this.realms[t]=n?o.AUTHENTICATED:o.UNAUTHENTICATED,this.pending&&(t===this.pending.header.realm?a.push(this.pending):r.push(this.pending)),this.pending=void 0,c=r.length,u=0;u<c;++u)r[u].header.realm===t?a.push(r[u]):s.push(r[u]);this.queue=s,a.length>0&&(n?(f.info("Authentication succeeded for realm "+t+", repeating requests."),this.retry(a)):(f.warning("Authentication failed for realm "+t),this.abort(a))),n?this.dispatchLogonCompletedEvent(e):this.dispatchLogonFailedEvent(e),this.queue.length>0&&this.onXHRLogon(this.queue.shift())},r.prototype.abortXHRLogon=function(e){var t,n,r,i,a;if(!e&&this.pending&&(e=this.pending.header.realm),e){for(t=this.queue,n=[],r=[],this.realms[e]=o.UNAUTHENTICATED,this.pending&&(e===this.pending.header.realm?n.push(this.pending):t.push(this.pending)),this.pending=void 0,a=t.length,i=0;i<a;++i)t[i].header.realm===e?n.push(t[i]):r.push(t[i]);this.queue=r,n.length>0&&(f.warning("Authentication aborted for realm "+e),this.abort(n))}else f.info("No pending authentication, ignoring abort");this.dispatchLogonAbortedEvent(e),this.queue.length>0&&this.onXHRLogon(this.queue.shift())},r.prototype.retry=function(e){var t,n,r,i;for(n=e.length,t=0;t<n;++t)try{r=e[t].channel,r.async&&(i=r.xhr,i.resumeEvents(),i.repeat())}catch(e){f.warning("Error while repeating request: "+e.message)}},r.prototype.abort=function(e){var t,n,r,i;for(n=e.length,t=0;t<n;++t)try{r=e[t].channel,r.async&&(i=r.xhr,i.resumeEvents(!0))}catch(e){f.warning("Error while aborting request: "+e.message)}},r.prototype.abortAll=function(){var e;e=this.queue,this.queue=[],this.pending&&(e.push(this.pending),this.pending=void 0),this.abort(e)},r.prototype.shutdown=function(){f.info("XHR Logon Manager shutdown"),window.removeEventListener("message",this.getEventHandler()),this.abortAll(),this._unregisterFilterFactory();
},r.prototype.handleEvent=function(e){var t,n,r;if(n=/^\s*\{\s*"xhrLogon"/,t=e.data,n.test(t))try{this.isTrusted(e.origin)?(r=JSON.parse(t),this.onXHRLogonCompleted(r.xhrLogon)):f.warning("Received xhrlogon message from untrusted origin "+e.origin)}catch(e){f.warning("Invalid xhrLogon message: "+t)}},r.prototype._initializeTrustedOrigins=function(){var e,t,n;if(n={},e=window.location,t=e.protocol,n[t+"//"+e.host]=!0,""===e.port)switch(t){case"http":n[t+"//"+e.host+":80"]=!0;break;case"https":n[t+"//"+e.host+":443"]=!0}this._trustedOrigins=n},r.prototype.isTrusted=function(e){return!!this._trustedOrigins[e]},r.prototype.addTrustedOrigin=function(e){this._trustedOrigins[e]=!0},r.prototype.getEventHandler=function(){var e,t;return e=this._eventHandler,e||(t=this,e=function(e){t.handleEvent(e)},this._eventHandler=e),e},r.prototype._getFilterFactory=function(){var e,t;return e=this._filterFactory,e||(t=this,e=function(e){e.filters.push(new h(t,e))},this._filterFactory=e),e},r.prototype._registerFilterFactory=function(){p.channelFactory&&p.channelFactory.addFilterFactory(this._getFilterFactory())},r.prototype._unregisterFilterFactory=function(){p.channelFactory&&(p.channelFactory.removeFilterFactory(this._getFilterFactory()),delete this._filterFactory)},r.prototype.createIgnoreList=function(){this.ignore=new l}},{"./EventHandlers.js":5,"./IgnoreList.js":8,"./Log.js":9,"./XHRLogonFilter.js":12,"./events.js":14,"./xhr.js":16}],11:[function(e,t,n){"use strict";function r(e){this._parse(e)}var i,o=/([^?#]+)(\?[^#]*)?(#.*)?/;t.exports=r,i=r.prototype,i._parse=function(e){var t=o.exec(e);this.path=t[1],this.hash=t[3]||"",this.parameters=this._parseSearch(t[2])},i._parseSearch=function(e){var t,n,r;if(r={},e)for(t=/[?&]([^&=]+)=?([^&]*)/g,n=t.exec(e);n;)r[n[1]]=n[2],n=t.exec(e);return r},i.getParameter=function(e){return decodeURIComponent(this.parameters[e])},i.removeParameter=function(e){delete this.parameters[e]},i.setParameter=function(e,t){this.parameters[e]=encodeURIComponent(t)},Object.defineProperties(i,{href:{get:function(){var e;return e=this.path+this.search+this.hash}},search:{get:function(){var e,t,n,r;e="",t=this.parameters;for(n in t)t.hasOwnProperty(n)&&(r=t[n],e.length>0&&(e+="&"),e+=n,r&&(e+="=",e+=r));return e.length>0&&(e="?"+e),e}}})},{}],12:[function(e,t,n){"use strict";function r(e,t){this.manager=e,this.channel=t,this.manager.ignore&&this.manager.ignore.ignored(t.url)||t.xhr._addEventListener("readystatechange",this)}var i,o,a=2,s=e("./XHRLogonRequest.js");t.exports=r,i=r.prototype,i.sending=function(e){var t;this.manager.ignore&&this.manager.ignore.ignored(e.url)||(t=e.xhr,t.getRequestHeader("X-XHR-Logon")||t.setRequestHeader("X-XHR-Logon",'accept="iframe"'),t.getRequestHeader("X-Requested-With")||t.setRequestHeader("X-Requested-With","XMLHttpRequest"))},i.handleEvent=function(e){var t,n,r,i;if(t=this.channel,n=t.xhr,!(n.readyState<a)){if(n.readyState===a)if(void 0===o){try{i=n.status,o=!!i}catch(e){o=!1}if(!i)return}else if(!o)return;403===n.status&&(r=n.getResponseHeader("x-xhr-logon"),r&&(t.async&&n.suspendEvents(),(t.async||this.manager.triggerLogonOnSyncRequest)&&this.manager.onXHRLogon(new s(t,e,r))))}}},{"./XHRLogonRequest.js":13}],13:[function(e,t,n){"use strict";function r(e,t,n){this.channel=e,this.event=t,"string"==typeof n?this.header=r.parseHeader(n):this.header=n}t.exports=r,r.parseHeader=function(e){var t,n,r,i,o;for(t=/(?:,|^)\s*(\w+)\s*=\s*"((?:[^"\\]|\\.)*)"/g,o={},n=t.exec(e);null!==n;)r=n[1],i=n[2].replace(/\\(.)/g,"$1"),o[r]=i,n=t.exec(e);return o}},{}],14:[function(e,t,n){"use strict";function r(e,t,n){var r;return r=document.createEvent("Event"),r.initEvent(e,t,n),r}function i(e,t,n){var i,o;if(s)i=r(e,t,n);else try{(t||n)&&(o={bubbles:t,cancelable:n}),i=new Event(e,o)}catch(o){s=!0,i=r(e,t,n)}return i}function o(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}var s;t.exports={createEvent:i,addEventListener:o,removeEventListener:a}},{}],15:[function(e,t,n){"use strict";e("./xhr.js"),t.exports={AuxWindowFrameProvider:e("./AuxWindowFrameProvider.js"),FrameLogonManager:e("./FrameLogonManager.js"),FrameProxy:e("./FrameProxy.js"),LogonManager:e("./LogonManager.js")}},{"./AuxWindowFrameProvider.js":1,"./FrameLogonManager.js":6,"./FrameProxy.js":7,"./LogonManager.js":10,"./xhr.js":16}],16:[function(e,t,n){"use strict";function r(){function t(){}function n(e,t){var n,r,i,o,a,s;for(r=t.length,n=0;n<r;++n)i=t[n],s=e[i],s&&(a="_"+i,o=e[a],o||(e[a]=s))}var r,i,o,a,s=e("./Log.js"),u=e("./ChannelFactory.js"),c=e("./EventHandlers.js"),l=0,f=s.logger;r=["loadstart","progress","abort","error","load","timeout","loadend"],i=r.concat("readystatechange"),o=XMLHttpRequest,XMLHttpRequest._SAP_ENHANCED=!0,a=o.prototype,XMLHttpRequest.channelFactory=new u,n(a,["abort","open","setRequestHeader","send","addEventListener","removeEventListener"]),a._saveOnEvent=function(e){var n,r,i,o;n="on"+e,i=this[n],r=this._getHandlers(),o=r[n]?i!==t:!!i,o&&(r[n]=i,this[n]=t)},a._getHandlers=function(){var e;return e=this._handlers,e||(e=new c(i),this._handlers=e),e},a.handleEvent=function(e){"readystatechange"===e.type&&this.readyState>2&&this._checkEventSubscriptions(),this._getHandlers().dispatch(e)},a.suspendEvents=function(){this._getHandlers().suspend=!0},a.resumeEvents=function(e){var t;t=this._getHandlers(),t.suspend=!1,e&&t.releaseEvents()},a.getEventHandler=function(){var e,t;return t=this._fnHandler,t||(e=this,t=function(t){e.handleEvent(t)},this._fnHandler=t),t},a._checkEventSubscription=function(e,t){t=t||this._getHandlers(),this._saveOnEvent(e),t.hasSubscribers(e)?t.subscribed(e)||(this._addEventListener(e,this.getEventHandler()),t.subscribe(e)):t.subscribed(e)&&(this._removeEventListener(e,this.getEventHandler()),t.unsubscribe(e))},a._checkEventSubscriptions=function(){var e,t,n;for(e=this._getHandlers(),n=i.length,t=0;t<n;++t)this._checkEventSubscription(i[t],e)},a.addEventListener=function(e,t){this._getHandlers().add(e,t),this._checkEventSubscription(e)},a.removeEventListener=function(e,t){this._getHandlers().remove(e,t),this._checkEventSubscription(e)},a.abort=function(){var e;try{e=this._channel,e?(f.debug("Aborting request "+e.method+" "+e.url),e.aborting(),this._abort(),e.aborted()):(f.debug("Aborting request"),this._abort()),this._getHandlers().clearEvents()}catch(t){if(f.warning("Failed to abort request: "+t.message),!e)throw t;e.catch(t)}},a.open=function(e,t,n,r,i){var a,s,u,c;this._id=++l,f.debug("Opening request #"+this._id+" "+e+" "+t),s=arguments.length,s<=2&&(n=!0),u=e,c=t,this._getHandlers().clearEvents(),a=o.channelFactory.create(this,e,t,n,r,i),this._channel=a,this._checkEventSubscription("readystatechange");try{this._clearParams(),a.opening(),e=a.method,t=a.url,c===t&&u===e||f.debug("Rewriting request #"+this._id+" to "+e+" "+t),s<=2?this._open(e,t):this._open(e,t,n,r,i),a.opened(),this._addEventListener("readystatechange",this.getEventHandler())}catch(n){f.warning("Failed to open request #"+this._id+" "+e+" "+t+": "+n.message),a.catch(n)}},a.setRequestHeader=function(e,t){var n,r;this._setRequestHeader(e,t),r=e.toLowerCase(),n=this.headers,n[r]?n[r]+=", "+t:n[r]=t},a.setRequestHeaders=function(e){var t,n,r,i;if("object"==typeof e)for(n=Object.getOwnPropertyNames(e),i=n.length,r=0;r<i;++r)t=n[r],this.setRequestHeader(t,e[t])},a.send=function(e){var t,n,r;this._checkEventSubscriptions();try{t=this._channel,t&&(n=t.method,r=t.url,f.debug("Sending request #"+this._id+" "+n+" "+r),t.sending()),this._saveParams(e),this._send(e),t&&t.sent()}catch(e){if(n?f.warning("Failed to send request #"+this._id+" "+n+" "+r+": "+e.message):f.warning("Failed to send request #"+this._id+": "+e.message),!t)throw e;t.catch(e)}},a.getRequestHeader=function(e){return this.headers[e.toLowerCase()]},a.deleteRepeatHeader=function(e){delete this.headers[e.toLowerCase()]},a.setRepeatHeader=function(e,t){this.headers[e.toLowerCase()]=t},a.reopen=function(){var e,t,n=this._channel;if(!n)throw new TypeError("Cannot reopen request");e=n.method,t=n.url,f.debug("Reopening request #"+this._id+" "+e+" "+t),this._checkEventSubscription("readystatechange");try{n.reopening(),n.opening(),this._open(e,t,n.async,n.username,n.password),n.opened(),this._restoreParams()}catch(r){f.warning("Failed to reopen request #"+this._id+" "+e+" "+t+": "+r.message),n.catch(r)}},a.repeat=function(){var e=this._channel;if(!e)throw new TypeError("Cannot repeat request");this.reopen(),this.send(this._data)},a.toString=function(){var e=this._channel,t="[object XMLHttpRequest]";return e&&(t+="#"+this._id+" "+e.method+" "+e.url),t},Object.defineProperties(a,{channel:{get:function(){return this._channel}},headers:{get:function(){var e;return e=this._headers,e||(e={},this._headers=e),e}},id:{get:function(){return this._id}}}),a._clearParams=function(){delete this._headers,delete this._withCredentials,delete this._timeout,delete this._data},a._restoreParams=function(){var e,t;this._headers&&(t=this._headers,this._headers={},this.setRequestHeaders(t)),this._withCredentials&&(this.withCredentials=!0),e=this._timeout,e&&(this.timeout=e)},a._saveParams=function(e){var t;void 0!==e&&null!==e&&(this._data=e),this.withCredentials&&(this._withCredentials=!0),t=this.timeout,t&&(this._timeout=t)},Object.defineProperties(XMLHttpRequest,{logger:{get:function(){return s.logger},set:function(e){s.logger=e}}})}XMLHttpRequest._SAP_ENHANCED||r(),t.exports=XMLHttpRequest},{"./ChannelFactory.js":3,"./EventHandlers.js":5,"./Log.js":9}]},{},[15])(15)}),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t,n,r){for(var i=-1,o=e?e.length:0;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function i(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function o(e,t){for(var n=e?e.length:0;n--&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,r=e?e.length:0,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function u(e,t){var n=e?e.length:0;return!!n&&m(e,t,0)>-1}function c(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function l(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function f(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function h(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function p(e,t,n,r){var i=e?e.length:0;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function d(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function v(e){return e.split("")}function g(e){return e.match(Pt)||[]}function _(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function y(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function m(e,t,n){return t===t?V(e,t,n):y(e,b,n)}function w(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function b(e){return e!==e}function E(e,t){var n=e?e.length:0;return n?S(e,t)/n:Ie}function x(e){return function(t){return null==t?Z:t[e]}}function C(e){return function(t){return null==e?Z:e[t]}}function j(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function k(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function S(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==Z&&(n=n===Z?o:n+o)}return n}function R(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function I(e,t){return l(t,function(t){return[t,e[t]]})}function T(e){return function(t){return e(t)}}function P(e,t){return l(t,function(t){return e[t]})}function F(e,t){return e.has(t)}function L(e,t){for(var n=-1,r=e.length;++n<r&&m(t,e[n],0)>-1;);return n}function O(e,t){for(var n=e.length;n--&&m(t,e[n],0)>-1;);return n}function A(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function U(e){return"\\"+Hn[e]}function M(e,t){return null==e?Z:e[t]}function N(e){return Pn.test(e)}function q(e){return Fn.test(e)}function H(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function D(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Q(e,t){return function(n){return e(t(n))}}function B(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==ae||(e[n]=ae,o[i++]=n)}return o}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function V(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function $(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function X(e){return N(e)?J(e):rr(e)}function G(e){return N(e)?Y(e):v(e)}function J(e){for(var t=In.lastIndex=0;In.test(e);)++t;return t}function Y(e){return e.match(In)||[]}function K(e){return e.match(Tn)||[]}var Z,ee="4.16.4",te=200,ne="Unsupported core-js use. Try https://github.com/es-shims.",re="Expected a function",ie="__lodash_hash_undefined__",oe=500,ae="__lodash_placeholder__",se=1,ue=2,ce=4,le=8,fe=16,he=32,pe=64,de=128,ve=256,ge=512,_e=1,ye=2,me=30,we="...",be=500,Ee=16,xe=1,Ce=2,je=3,ke=1/0,Se=9007199254740991,Re=1.7976931348623157e308,Ie=NaN,Te=4294967295,Pe=Te-1,Fe=Te>>>1,Le=[["ary",de],["bind",se],["bindKey",ue],["curry",le],["curryRight",fe],["flip",ge],["partial",he],["partialRight",pe],["rearg",ve]],Oe="[object Arguments]",Ae="[object Array]",Ue="[object Boolean]",Me="[object Date]",Ne="[object Error]",qe="[object Function]",He="[object GeneratorFunction]",De="[object Map]",Qe="[object Number]",Be="[object Object]",We="[object Promise]",ze="[object Proxy]",Ve="[object RegExp]",$e="[object Set]",Xe="[object String]",Ge="[object Symbol]",Je="[object WeakMap]",Ye="[object WeakSet]",Ke="[object ArrayBuffer]",Ze="[object DataView]",et="[object Float32Array]",tt="[object Float64Array]",nt="[object Int8Array]",rt="[object Int16Array]",it="[object Int32Array]",ot="[object Uint8Array]",at="[object Uint8ClampedArray]",st="[object Uint16Array]",ut="[object Uint32Array]",ct=/\b__p \+= '';/g,lt=/\b(__p \+=) '' \+/g,ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ht=/&(?:amp|lt|gt|quot|#39);/g,pt=/[&<>"']/g,dt=RegExp(ht.source),vt=RegExp(pt.source),gt=/<%-([\s\S]+?)%>/g,_t=/<%([\s\S]+?)%>/g,yt=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wt=/^\w*$/,bt=/^\./,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/[\\^$.*+?()[\]{}|]/g,Ct=RegExp(xt.source),jt=/^\s+|\s+$/g,kt=/^\s+/,St=/\s+$/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,Tt=/,? & /,Pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ft=/\\(\\)?/g,Lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ot=/\w*$/,At=/^[-+]0x[0-9a-f]+$/i,Ut=/^0b[01]+$/i,Mt=/^\[object .+?Constructor\]$/,Nt=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Dt=/($^)/,Qt=/['\n\r\u2028\u2029\\]/g,Bt="\\ud800-\\udfff",Wt="\\u0300-\\u036f\\ufe20-\\ufe23",zt="\\u20d0-\\u20f0",Vt="\\u2700-\\u27bf",$t="a-z\\xdf-\\xf6\\xf8-\\xff",Xt="\\xac\\xb1\\xd7\\xf7",Gt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jt="\\u2000-\\u206f",Yt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kt="A-Z\\xc0-\\xd6\\xd8-\\xde",Zt="\\ufe0e\\ufe0f",en=Xt+Gt+Jt+Yt,tn="['’]",nn="["+Bt+"]",rn="["+en+"]",on="["+Wt+zt+"]",an="\\d+",sn="["+Vt+"]",un="["+$t+"]",cn="[^"+Bt+en+an+Vt+$t+Kt+"]",ln="\\ud83c[\\udffb-\\udfff]",fn="(?:"+on+"|"+ln+")",hn="[^"+Bt+"]",pn="(?:\\ud83c[\\udde6-\\uddff]){2}",dn="[\\ud800-\\udbff][\\udc00-\\udfff]",vn="["+Kt+"]",gn="\\u200d",_n="(?:"+un+"|"+cn+")",yn="(?:"+vn+"|"+cn+")",mn="(?:"+tn+"(?:d|ll|m|re|s|t|ve))?",wn="(?:"+tn+"(?:D|LL|M|RE|S|T|VE))?",bn=fn+"?",En="["+Zt+"]?",xn="(?:"+gn+"(?:"+[hn,pn,dn].join("|")+")"+En+bn+")*",Cn=En+bn+xn,jn="(?:"+[sn,pn,dn].join("|")+")"+Cn,kn="(?:"+[hn+on+"?",on,pn,dn,nn].join("|")+")",Sn=RegExp(tn,"g"),Rn=RegExp(on,"g"),In=RegExp(ln+"(?="+ln+")|"+kn+Cn,"g"),Tn=RegExp([vn+"?"+un+"+"+mn+"(?="+[rn,vn,"$"].join("|")+")",yn+"+"+wn+"(?="+[rn,vn+_n,"$"].join("|")+")",vn+"?"+_n+"+"+mn,vn+"+"+wn,an,jn].join("|"),"g"),Pn=RegExp("["+gn+Bt+Wt+zt+Zt+"]"),Fn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ln=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],On=-1,An={};An[et]=An[tt]=An[nt]=An[rt]=An[it]=An[ot]=An[at]=An[st]=An[ut]=!0,An[Oe]=An[Ae]=An[Ke]=An[Ue]=An[Ze]=An[Me]=An[Ne]=An[qe]=An[De]=An[Qe]=An[Be]=An[Ve]=An[$e]=An[Xe]=An[Je]=!1;var Un={};Un[Oe]=Un[Ae]=Un[Ke]=Un[Ze]=Un[Ue]=Un[Me]=Un[et]=Un[tt]=Un[nt]=Un[rt]=Un[it]=Un[De]=Un[Qe]=Un[Be]=Un[Ve]=Un[$e]=Un[Xe]=Un[Ge]=Un[ot]=Un[at]=Un[st]=Un[ut]=!0,Un[Ne]=Un[qe]=Un[Je]=!1;var Mn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Nn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dn=parseFloat,Qn=parseInt,Bn="object"==typeof global&&global&&global.Object===Object&&global,Wn="object"==typeof self&&self&&self.Object===Object&&self,zn=Bn||Wn||Function("return this")(),Vn="object"==typeof exports&&exports&&!exports.nodeType&&exports,$n=Vn&&"object"==typeof module&&module&&!module.nodeType&&module,Xn=$n&&$n.exports===Vn,Gn=Xn&&Bn.process,Jn=function(){try{return Gn&&Gn.binding("util")}catch(e){}}(),Yn=Jn&&Jn.isArrayBuffer,Kn=Jn&&Jn.isDate,Zn=Jn&&Jn.isMap,er=Jn&&Jn.isRegExp,tr=Jn&&Jn.isSet,nr=Jn&&Jn.isTypedArray,rr=x("length"),ir=C(Mn),or=C(Nn),ar=C(qn),sr=function v(C){function V(e){if(Ys(e)&&!uh(e)&&!(e instanceof Pt)){if(e instanceof Y)return e;if(cl.call(e,"__wrapped__"))return Xo(e)}return new Y(e)}function J(){}function Y(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Z}function Pt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Te,this.__views__=[]}function Bt(){var e=new Pt(this.__wrapped__);return e.__actions__=Li(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Li(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Li(this.__views__),e}function Wt(){if(this.__filtered__){var e=new Pt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function zt(){var e=this.__wrapped__.value(),t=this.__dir__,n=uh(e),r=t<0,i=n?e.length:0,o=yo(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=Ml(u,this.__takeCount__);if(!n||i<te||i==u&&p==u)return di(e,this.__actions__);var d=[];e:for(;u--&&h<p;){c+=t;for(var v=-1,g=e[c];++v<f;){var _=l[v],y=_.iteratee,m=_.type,w=y(g);if(m==Ce)g=w;else if(!w){if(m==xe)continue e;break e}}d[h++]=g}return d}function Vt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $t(){this.__data__=$l?$l(null):{},this.size=0}function Xt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Gt(e){var t=this.__data__;if($l){var n=t[e];return n===ie?Z:n}return cl.call(t,e)?t[e]:Z}function Jt(e){var t=this.__data__;return $l?t[e]!==Z:cl.call(t,e)}function Yt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$l&&t===Z?ie:t,this}function Kt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zt(){this.__data__=[],this.size=0}function en(e){var t=this.__data__,n=In(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():xl.call(t,n,1),--this.size,!0}function tn(e){var t=this.__data__,n=In(t,e);return n<0?Z:t[n][1]}function nn(e){return In(this.__data__,e)>-1}function rn(e,t){var n=this.__data__,r=In(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function on(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function an(){this.size=0,this.__data__={hash:new Vt,map:new(Bl||Kt),string:new Vt}}function sn(e){var t=vo(this,e).delete(e);return this.size-=t?1:0,t}function un(e){return vo(this,e).get(e)}function cn(e){return vo(this,e).has(e)}function ln(e,t){var n=vo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function fn(e){var t=-1,n=e?e.length:0;for(this.__data__=new on;++t<n;)this.add(e[t])}function hn(e){return this.__data__.set(e,ie),this}function pn(e){return this.__data__.has(e)}function dn(e){var t=this.__data__=new Kt(e);this.size=t.size}function vn(){this.__data__=new Kt,this.size=0}function gn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function _n(e){return this.__data__.get(e)}function yn(e){return this.__data__.has(e)}function mn(e,t){var n=this.__data__;if(n instanceof Kt){var r=n.__data__;if(!Bl||r.length<te-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new on(r)}return n.set(e,t),this.size=n.size,this}function wn(e,t){var n=uh(e),r=!n&&sh(e),i=!n&&!r&&lh(e),o=!n&&!r&&!i&&vh(e),a=n||r||i||o,s=a?R(e.length,tl):[],u=s.length;for(var c in e)!t&&!cl.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ko(c,u))||s.push(c);return s}function bn(e){var t=e.length;return t?e[Gr(0,t-1)]:Z}function En(e,t){return Wo(Li(e),Nn(t,0,e.length))}function xn(e){return Wo(Li(e))}function Cn(e,t,n,r){return e===Z||Ms(e,ol[n])&&!cl.call(r,n)?t:e}function jn(e,t,n){(n===Z||Ms(e[t],n))&&(n!==Z||t in e)||Fn(e,t,n)}function kn(e,t,n){var r=e[t];cl.call(e,t)&&Ms(r,n)&&(n!==Z||t in e)||Fn(e,t,n)}function In(e,t){for(var n=e.length;n--;)if(Ms(e[n][0],t))return n;return-1}function Tn(e,t,n,r){return af(e,function(e,i,o){t(r,e,n(e),o)}),r}function Pn(e,t){return e&&Oi(t,Fu(t),e)}function Fn(e,t,n){"__proto__"==t&&jl?jl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Mn(e,t){for(var n=-1,r=null==e,i=t.length,o=Xc(i);++n<i;)o[n]=r?Z:Iu(e,t[n]);return o}function Nn(e,t,n){return e===e&&(n!==Z&&(e=e<=n?e:n),t!==Z&&(e=e>=t?e:t)),e}function qn(e,t,n,r,o,a,s){var u;if(r&&(u=a?r(e,o,a,s):r(e)),u!==Z)return u;if(!Js(e))return e;var c=uh(e);if(c){if(u=bo(e),!t)return Li(e,u)}else{var l=yf(e),f=l==qe||l==He;if(lh(e))return bi(e,t);if(l==Be||l==Oe||f&&!a){if(u=Eo(f?{}:e),!t)return Ai(e,Pn(u,e))}else{if(!Un[l])return a?e:{};u=xo(e,l,qn,t)}}s||(s=new dn);var h=s.get(e);if(h)return h;s.set(e,u);var p=c?Z:(n?co:Fu)(e);return i(p||e,function(i,o){p&&(o=i,i=e[o]),kn(u,o,qn(i,t,n,r,o,e,s))}),u}function Hn(e){var t=Fu(e);return function(n){return Bn(n,e,t)}}function Bn(e,t,n){var r=n.length;if(null==e)return!r;for(e=Zc(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===Z&&!(i in e)||!o(a))return!1}return!0}function Wn(e,t,n){if("function"!=typeof e)throw new nl(re);return bf(function(){e.apply(Z,n)},t)}function Vn(e,t,n,r){var i=-1,o=u,a=!0,s=e.length,f=[],h=t.length;if(!s)return f;n&&(t=l(t,T(n))),r?(o=c,a=!1):t.length>=te&&(o=F,a=!1,t=new fn(t));e:for(;++i<s;){var p=e[i],d=n?n(p):p;if(p=r||0!==p?p:0,a&&d===d){for(var v=h;v--;)if(t[v]===d)continue e;f.push(p)}else o(t,d,r)||f.push(p)}return f}function $n(e,t){var n=!0;return af(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Gn(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===Z?a===a&&!uu(a):n(a,s)))var s=a,u=o}return u}function Jn(e,t,n,r){var i=e.length;for(n=du(n),n<0&&(n=-n>i?0:i+n),r=r===Z||r>i?i:du(r),r<0&&(r+=i),r=n>r?0:vu(r);n<r;)e[n++]=t;return e}function rr(e,t){var n=[];return af(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function sr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=jo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?sr(s,t-1,n,r,i):f(i,s):r||(i[i.length]=s)}return i}function cr(e,t){return e&&uf(e,t,Fu)}function lr(e,t){return e&&cf(e,t,Fu)}function fr(e,t){return s(t,function(t){return $s(e[t])})}function hr(e,t){t=Ro(t,e)?[t]:mi(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[zo(t[n++])];return n&&n==r?e:Z}function pr(e,t,n){var r=t(e);return uh(e)?r:f(r,n(e))}function dr(e){return hl.call(e)}function vr(e,t){return e>t}function gr(e,t){return null!=e&&cl.call(e,t)}function _r(e,t){return null!=e&&t in Zc(e)}function yr(e,t,n){return e>=Ml(t,n)&&e<Ul(t,n)}function mr(e,t,n){for(var r=n?c:u,i=e[0].length,o=e.length,a=o,s=Xc(o),f=1/0,h=[];a--;){var p=e[a];a&&t&&(p=l(p,T(t))),f=Ml(p.length,f),s[a]=!n&&(t||i>=120&&p.length>=120)?new fn(a&&p):Z}p=e[0];var d=-1,v=s[0];e:for(;++d<i&&h.length<f;){var g=p[d],_=t?t(g):g;if(g=n||0!==g?g:0,!(v?F(v,_):r(h,_,n))){for(a=o;--a;){var y=s[a];if(!(y?F(y,_):r(e[a],_,n)))continue e}v&&v.push(_),h.push(g)}}return h}function wr(e,t,n,r){return cr(e,function(e,i,o){t(r,n(e),i,o)}),r}function br(e,t,r){Ro(t,e)||(t=mi(t),e=Ho(e,t),t=pa(t));var i=null==e?e:e[zo(t)];return null==i?Z:n(i,e,r)}function Er(e){return Ys(e)&&hl.call(e)==Oe}function xr(e){return Ys(e)&&hl.call(e)==Ke}function Cr(e){return Ys(e)&&hl.call(e)==Me}function jr(e,t,n,r,i){return e===t||(null==e||null==t||!Js(e)&&!Ys(t)?e!==e&&t!==t:kr(e,t,jr,n,r,i))}function kr(e,t,n,r,i,o){var a=uh(e),s=uh(t),u=Ae,c=Ae;a||(u=yf(e),u=u==Oe?Be:u),s||(c=yf(t),c=c==Oe?Be:c);var l=u==Be,f=c==Be,h=u==c;if(h&&lh(e)){if(!lh(t))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new dn),a||vh(e)?oo(e,t,n,r,i,o):ao(e,t,u,n,r,i,o);if(!(i&ye)){var p=l&&cl.call(e,"__wrapped__"),d=f&&cl.call(t,"__wrapped__");if(p||d){var v=p?e.value():e,g=d?t.value():t;return o||(o=new dn),n(v,g,r,i,o)}}return!!h&&(o||(o=new dn),so(e,t,n,r,i,o))}function Sr(e){return Ys(e)&&yf(e)==De}function Rr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Zc(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var u=s[0],c=e[u],l=s[1];if(a&&s[2]){if(c===Z&&!(u in e))return!1}else{var f=new dn;if(r)var h=r(c,l,u,e,t,f);if(!(h===Z?jr(l,c,r,_e|ye,f):h))return!1}}return!0}function Ir(e){if(!Js(e)||Po(e))return!1;var t=$s(e)?dl:Mt;return t.test(Vo(e))}function Tr(e){return Js(e)&&hl.call(e)==Ve}function Pr(e){return Ys(e)&&yf(e)==$e}function Fr(e){return Ys(e)&&Gs(e.length)&&!!An[hl.call(e)]}function Lr(e){return"function"==typeof e?e:null==e?Ec:"object"==typeof e?uh(e)?qr(e[0],e[1]):Nr(e):Tc(e)}function Or(e){if(!Fo(e))return Al(e);var t=[];for(var n in Zc(e))cl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ar(e){if(!Js(e))return No(e);var t=Fo(e),n=[];for(var r in e)("constructor"!=r||!t&&cl.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Mr(e,t){var n=-1,r=Ns(e)?Xc(e.length):[];return af(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Nr(e){var t=go(e);return 1==t.length&&t[0][2]?Oo(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function qr(e,t){return Ro(e)&&Lo(t)?Oo(zo(e),t):function(n){var r=Iu(n,e);return r===Z&&r===t?Pu(n,e):jr(t,r,Z,_e|ye)}}function Hr(e,t,n,r,i){e!==t&&uf(t,function(o,a){if(Js(o))i||(i=new dn),Dr(e,t,a,n,Hr,r,i);else{var s=r?r(e[a],o,a+"",e,t,i):Z;s===Z&&(s=o),jn(e,a,s)}},Lu)}function Dr(e,t,n,r,i,o,a){var s=e[n],u=t[n],c=a.get(u);if(c)return void jn(e,n,c);var l=o?o(s,u,n+"",e,t,a):Z,f=l===Z;if(f){var h=uh(u),p=!h&&lh(u),d=!h&&!p&&vh(u);l=u,h||p||d?uh(s)?l=s:qs(s)?l=Li(s):p?(f=!1,l=bi(u,!0)):d?(f=!1,l=Ri(u,!0)):l=[]:ou(u)||sh(u)?(l=s,sh(s)?l=_u(s):(!Js(s)||r&&$s(s))&&(l=Eo(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),jn(e,n,l)}function Qr(e,t){var n=e.length;if(n)return t+=t<0?n:0,ko(t,n)?e[t]:Z}function Br(e,t,n){var r=-1;t=l(t.length?t:[Ec],T(po()));var i=Mr(e,function(e,n,i){var o=l(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return k(i,function(e,t){return Ti(e,t,n)})}function Wr(e,t){return e=Zc(e),zr(e,t,function(t,n){return n in e})}function zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&Fn(o,a,s)}return o}function Vr(e){return function(t){return hr(t,e)}}function $r(e,t,n,r){var i=r?w:m,o=-1,a=t.length,s=e;for(e===t&&(t=Li(t)),n&&(s=l(e,T(n)));++o<a;)for(var u=0,c=t[o],f=n?n(c):c;(u=i(s,f,u,r))>-1;)s!==e&&xl.call(s,u,1),xl.call(e,u,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;if(ko(i))xl.call(e,i,1);else if(Ro(i,e))delete e[zo(i)];else{var a=mi(i),s=Ho(e,a);null!=s&&delete s[zo(pa(a))]}}}return e}function Gr(e,t){return e+Tl(Hl()*(t-e+1))}function Jr(e,t,n,r){for(var i=-1,o=Ul(Il((t-e)/(n||1)),0),a=Xc(o);o--;)a[r?o:++i]=e,e+=n;return a}function Yr(e,t){var n="";if(!e||t<1||t>Se)return n;do t%2&&(n+=e),t=Tl(t/2),t&&(e+=e);while(t);return n}function Kr(e,t){return Ef(qo(e,t,Ec),e+"")}function Zr(e){return bn(zu(e))}function ei(e,t){var n=zu(e);return Wo(n,Nn(t,0,n.length))}function ti(e,t,n,r){if(!Js(e))return e;t=Ro(t,e)?[t]:mi(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=zo(t[i]),c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):Z,c===Z&&(c=Js(l)?l:ko(t[i+1])?[]:{})}kn(s,u,c),s=s[u]}return e}function ni(e){return Wo(zu(e))}function ri(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Xc(i);++r<i;)o[r]=e[r+t];return o}function ii(e,t){var n;return af(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function oi(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&i<=Fe){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!uu(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ai(e,t,Ec,n)}function ai(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=uu(t),c=t===Z;i<o;){var l=Tl((i+o)/2),f=n(e[l]),h=f!==Z,p=null===f,d=f===f,v=uu(f);if(a)var g=r||d;else g=c?d&&(r||h):s?d&&h&&(r||!p):u?d&&h&&!p&&(r||!v):!p&&!v&&(r?f<=t:f<t);g?i=l+1:o=l}return Ml(o,Pe)}function si(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ms(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:uu(e)?Ie:+e}function ci(e){if("string"==typeof e)return e;if(uh(e))return l(e,ci)+"";if(uu(e))return rf?rf.call(e):"";var t=e+"";return"0"==t&&1/e==-ke?"-0":t}function li(e,t,n){var r=-1,i=u,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=c;else if(o>=te){var f=t?null:df(e);if(f)return W(f);a=!1,i=F,l=new fn}else l=t?[]:s;e:for(;++r<o;){var h=e[r],p=t?t(h):h;if(h=n||0!==h?h:0,
a&&p===p){for(var d=l.length;d--;)if(l[d]===p)continue e;t&&l.push(p),s.push(h)}else i(l,p,n)||(l!==s&&l.push(p),s.push(h))}return s}function fi(e,t){t=Ro(t,e)?[t]:mi(t),e=Ho(e,t);var n=zo(pa(t));return!(null!=e&&cl.call(e,n))||delete e[n]}function hi(e,t,n,r){return ti(e,t,n(hr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function di(e,t){var n=e;return n instanceof Pt&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,f([e],t.args))},n)}function vi(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?f(Vn(o,e[r],t,n),Vn(e[r],o,t,n)):e[r];return o&&o.length?li(o,t,n):[]}function gi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:Z;n(a,e[r],s)}return a}function _i(e){return qs(e)?e:[]}function yi(e){return"function"==typeof e?e:Ec}function mi(e){return uh(e)?e:xf(e)}function wi(e,t,n){var r=e.length;return n=n===Z?r:n,!t&&n>=r?e:ri(e,t,n)}function bi(e,t){if(t)return e.slice();var n=e.length,r=yl?yl(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new _l(t).set(new _l(e)),t}function xi(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ci(t,n,r){var i=n?r(D(t),!0):D(t);return h(i,e,new t.constructor)}function ji(e){var t=new e.constructor(e.source,Ot.exec(e));return t.lastIndex=e.lastIndex,t}function ki(e,n,r){var i=n?r(W(e),!0):W(e);return h(i,t,new e.constructor)}function Si(e){return nf?Zc(nf.call(e)):{}}function Ri(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ii(e,t){if(e!==t){var n=e!==Z,r=null===e,i=e===e,o=uu(e),a=t!==Z,s=null===t,u=t===t,c=uu(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Ti(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=Ii(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}function Pi(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=Ul(o-a,0),l=Xc(u+c),f=!r;++s<u;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function Fi(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=Ul(o-s,0),f=Xc(l+c),h=!r;++i<l;)f[i]=e[i];for(var p=i;++u<c;)f[p+u]=t[u];for(;++a<s;)(h||i<o)&&(f[p+n[a]]=e[i++]);return f}function Li(e,t){var n=-1,r=e.length;for(t||(t=Xc(r));++n<r;)t[n]=e[n];return t}function Oi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):Z;u===Z&&(u=e[s]),i?Fn(n,s,u):kn(n,s,u)}return n}function Ai(e,t){return Oi(e,gf(e),t)}function Ui(e,t){return function(n,i){var o=uh(n)?r:Tn,a=t?t():{};return o(n,e,po(i,2),a)}}function Mi(e){return Kr(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:Z,a=i>2?n[2]:Z;for(o=e.length>3&&"function"==typeof o?(i--,o):Z,a&&So(n[0],n[1],a)&&(o=i<3?Z:o,i=1),t=Zc(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function Ni(e,t){return function(n,r){if(null==n)return n;if(!Ns(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Zc(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function qi(e){return function(t,n,r){for(var i=-1,o=Zc(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(n(o[u],u,o)===!1)break}return t}}function Hi(e,t,n){function r(){var t=this&&this!==zn&&this instanceof r?o:e;return t.apply(i?n:this,arguments)}var i=t&se,o=Bi(e);return r}function Di(e){return function(t){t=mu(t);var n=N(t)?G(t):Z,r=n?n[0]:t.charAt(0),i=n?wi(n,1).join(""):t.slice(1);return r[e]()+i}}function Qi(e){return function(t){return h(_c(Yu(t).replace(Sn,"")),e,"")}}function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=of(e.prototype),r=e.apply(n,t);return Js(r)?r:n}}function Wi(e,t,r){function i(){for(var a=arguments.length,s=Xc(a),u=a,c=ho(i);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:B(s,c);if(a-=l.length,a<r)return to(e,t,$i,i.placeholder,Z,s,l,Z,Z,r-a);var f=this&&this!==zn&&this instanceof i?o:e;return n(f,this,s)}var o=Bi(e);return i}function zi(e){return function(t,n,r){var i=Zc(t);if(!Ns(t)){var o=po(n,3);t=Fu(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:Z}}function Vi(e){return uo(function(t){var n=t.length,r=n,i=Y.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new nl(re);if(i&&!a&&"wrapper"==fo(o))var a=new Y([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=fo(o),u="wrapper"==s?vf(o):Z;a=u&&To(u[0])&&u[1]==(de|le|he|ve)&&!u[4].length&&1==u[9]?a[fo(u[0])].apply(a,u[3]):1==o.length&&To(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&uh(r)&&r.length>=te)return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function $i(e,t,n,r,i,o,a,s,u,c){function l(){for(var _=arguments.length,y=Xc(_),m=_;m--;)y[m]=arguments[m];if(d)var w=ho(l),b=A(y,w);if(r&&(y=Pi(y,r,i,d)),o&&(y=Fi(y,o,a,d)),_-=b,d&&_<c){var E=B(y,w);return to(e,t,$i,l.placeholder,n,y,E,s,u,c-_)}var x=h?n:this,C=p?x[e]:e;return _=y.length,s?y=Do(y,s):v&&_>1&&y.reverse(),f&&u<_&&(y.length=u),this&&this!==zn&&this instanceof l&&(C=g||Bi(C)),C.apply(x,y)}var f=t&de,h=t&se,p=t&ue,d=t&(le|fe),v=t&ge,g=p?Z:Bi(e);return l}function Xi(e,t){return function(n,r){return wr(n,e,t(r),{})}}function Gi(e,t){return function(n,r){var i;if(n===Z&&r===Z)return t;if(n!==Z&&(i=n),r!==Z){if(i===Z)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=ui(n),r=ui(r)),i=e(n,r)}return i}}function Ji(e){return uo(function(t){return t=l(t,T(po())),Kr(function(r){var i=this;return e(t,function(e){return n(e,i,r)})})})}function Yi(e,t){t=t===Z?" ":ci(t);var n=t.length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,Il(e/X(t)));return N(t)?wi(G(r),0,e).join(""):r.slice(0,e)}function Ki(e,t,r,i){function o(){for(var t=-1,u=arguments.length,c=-1,l=i.length,f=Xc(l+u),h=this&&this!==zn&&this instanceof o?s:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++t];return n(h,a?r:this,f)}var a=t&se,s=Bi(e);return o}function Zi(e){return function(t,n,r){return r&&"number"!=typeof r&&So(t,n,r)&&(n=r=Z),t=pu(t),n===Z?(n=t,t=0):n=pu(n),r=r===Z?t<n?1:-1:pu(r),Jr(t,n,r,e)}}function eo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gu(t),n=gu(n)),e(t,n)}}function to(e,t,n,r,i,o,a,s,u,c){var l=t&le,f=l?a:Z,h=l?Z:a,p=l?o:Z,d=l?Z:o;t|=l?he:pe,t&=~(l?pe:he),t&ce||(t&=~(se|ue));var v=[e,t,i,p,f,d,h,s,u,c],g=n.apply(Z,v);return To(e)&&wf(g,v),g.placeholder=r,Qo(g,e,t)}function no(e){var t=Kc[e];return function(e,n){if(e=gu(e),n=Ml(du(n),292)){var r=(mu(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(mu(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function ro(e){return function(t){var n=yf(t);return n==De?D(t):n==$e?z(t):I(t,e(t))}}function io(e,t,n,r,i,o,a,s){var u=t&ue;if(!u&&"function"!=typeof e)throw new nl(re);var c=r?r.length:0;if(c||(t&=~(he|pe),r=i=Z),a=a===Z?a:Ul(du(a),0),s=s===Z?s:du(s),c-=i?i.length:0,t&pe){var l=r,f=i;r=i=Z}var h=u?Z:vf(e),p=[e,t,n,r,i,l,f,o,a,s];if(h&&Uo(p,h),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=null==p[9]?u?0:e.length:Ul(p[9]-c,0),!s&&t&(le|fe)&&(t&=~(le|fe)),t&&t!=se)d=t==le||t==fe?Wi(e,t,s):t!=he&&t!=(se|he)||i.length?$i.apply(Z,p):Ki(e,t,n,r);else var d=Hi(e,t,n);var v=h?lf:wf;return Qo(v(d,p),e,t)}function oo(e,t,n,r,i,o){var a=i&ye,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,f=!0,h=i&_e?new fn:Z;for(o.set(e,t),o.set(t,e);++l<s;){var p=e[l],v=t[l];if(r)var g=a?r(v,p,l,t,e,o):r(p,v,l,e,t,o);if(g!==Z){if(g)continue;f=!1;break}if(h){if(!d(t,function(e,t){if(!F(h,t)&&(p===e||n(p,e,r,i,o)))return h.push(t)})){f=!1;break}}else if(p!==v&&!n(p,v,r,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function ao(e,t,n,r,i,o,a){switch(n){case Ze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ke:return!(e.byteLength!=t.byteLength||!r(new _l(e),new _l(t)));case Ue:case Me:case Qe:return Ms(+e,+t);case Ne:return e.name==t.name&&e.message==t.message;case Ve:case Xe:return e==t+"";case De:var s=D;case $e:var u=o&ye;if(s||(s=W),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;o|=_e,a.set(e,t);var l=oo(s(e),s(t),r,i,o,a);return a.delete(e),l;case Ge:if(nf)return nf.call(e)==nf.call(t)}return!1}function so(e,t,n,r,i,o){var a=i&ye,s=Fu(e),u=s.length,c=Fu(t),l=c.length;if(u!=l&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in t:cl.call(t,h)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);for(var v=a;++f<u;){h=s[f];var g=e[h],_=t[h];if(r)var y=a?r(_,g,h,t,e,o):r(g,_,h,e,t,o);if(!(y===Z?g===_||n(g,_,r,i,o):y)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var m=e.constructor,w=t.constructor;m!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(e),o.delete(t),d}function uo(e){return Ef(qo(e,Z,oa),e+"")}function co(e){return pr(e,Fu,gf)}function lo(e){return pr(e,Lu,_f)}function fo(e){for(var t=e.name+"",n=Gl[t],r=cl.call(Gl,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ho(e){var t=cl.call(V,"placeholder")?V:e;return t.placeholder}function po(){var e=V.iteratee||xc;return e=e===xc?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function vo(e,t){var n=e.__data__;return Io(t)?n["string"==typeof t?"string":"hash"]:n.map}function go(e){for(var t=Fu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Lo(i)]}return t}function _o(e,t){var n=M(e,t);return Ir(n)?n:Z}function yo(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ml(t,e+a);break;case"takeRight":e=Ul(e,t-a)}}return{start:e,end:t}}function mo(e){var t=e.match(It);return t?t[1].split(Tt):[]}function wo(e,t,n){t=Ro(t,e)?[t]:mi(t);for(var r=-1,i=t.length,o=!1;++r<i;){var a=zo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e?e.length:0,!!i&&Gs(i)&&ko(a,i)&&(uh(e)||sh(e)))}function bo(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&cl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Eo(e){return"function"!=typeof e.constructor||Fo(e)?{}:of(ml(e))}function xo(e,t,n,r){var i=e.constructor;switch(t){case Ke:return Ei(e);case Ue:case Me:return new i(+e);case Ze:return xi(e,r);case et:case tt:case nt:case rt:case it:case ot:case at:case st:case ut:return Ri(e,r);case De:return Ci(e,r,n);case Qe:case Xe:return new i(e);case Ve:return ji(e);case $e:return ki(e,r,n);case Ge:return Si(e)}}function Co(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Rt,"{\n/* [wrapped with "+t+"] */\n")}function jo(e){return uh(e)||sh(e)||!!(Cl&&e&&e[Cl])}function ko(e,t){return t=null==t?Se:t,!!t&&("number"==typeof e||qt.test(e))&&e>-1&&e%1==0&&e<t}function So(e,t,n){if(!Js(n))return!1;var r=typeof t;return!!("number"==r?Ns(n)&&ko(t,n.length):"string"==r&&t in n)&&Ms(n[t],e)}function Ro(e,t){if(uh(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!uu(e))||(wt.test(e)||!mt.test(e)||null!=t&&e in Zc(t))}function Io(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function To(e){var t=fo(e),n=V[t];if("function"!=typeof n||!(t in Pt.prototype))return!1;if(e===n)return!0;var r=vf(n);return!!r&&e===r[0]}function Po(e){return!!sl&&sl in e}function Fo(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ol;return e===n}function Lo(e){return e===e&&!Js(e)}function Oo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==Z||e in Zc(n)))}}function Ao(e){var t=xs(e,function(e){return n.size===oe&&n.clear(),e}),n=t.cache;return t}function Uo(e,t){var n=e[1],r=t[1],i=n|r,o=i<(se|ue|de),a=r==de&&n==le||r==de&&n==ve&&e[7].length<=t[8]||r==(de|ve)&&t[7].length<=t[8]&&n==le;if(!o&&!a)return e;r&se&&(e[2]=t[2],i|=n&se?0:ce);var s=t[3];if(s){var u=e[3];e[3]=u?Pi(u,s,t[4]):s,e[4]=u?B(e[3],ae):t[4]}return s=t[5],s&&(u=e[5],e[5]=u?Fi(u,s,t[6]):s,e[6]=u?B(e[5],ae):t[6]),s=t[7],s&&(e[7]=s),r&de&&(e[8]=null==e[8]?t[8]:Ml(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Mo(e,t,n,r,i,o){return Js(e)&&Js(t)&&(o.set(t,e),Hr(e,t,Z,Mo,o),o.delete(t)),e}function No(e){var t=[];if(null!=e)for(var n in Zc(e))t.push(n);return t}function qo(e,t,r){return t=Ul(t===Z?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Ul(i.length-t,0),s=Xc(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=Xc(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),n(e,this,u)}}function Ho(e,t){return 1==t.length?e:hr(e,ri(t,0,-1))}function Do(e,t){for(var n=e.length,r=Ml(t.length,n),i=Li(e);r--;){var o=t[r];e[r]=ko(o,n)?i[o]:Z}return e}function Qo(e,t,n){var r=t+"";return Ef(e,Co(r,$o(mo(r),n)))}function Bo(e){var t=0,n=0;return function(){var r=Nl(),i=Ee-(r-n);if(n=r,i>0){if(++t>=be)return arguments[0]}else t=0;return e.apply(Z,arguments)}}function Wo(e,t){var n=-1,r=e.length,i=r-1;for(t=t===Z?r:t;++n<t;){var o=Gr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function zo(e){if("string"==typeof e||uu(e))return e;var t=e+"";return"0"==t&&1/e==-ke?"-0":t}function Vo(e){if(null!=e){try{return ul.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $o(e,t){return i(Le,function(n){var r="_."+n[0];t&n[1]&&!u(e,r)&&e.push(r)}),e.sort()}function Xo(e){if(e instanceof Pt)return e.clone();var t=new Y(e.__wrapped__,e.__chain__);return t.__actions__=Li(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Go(e,t,n){t=(n?So(e,t,n):t===Z)?1:Ul(du(t),0);var r=e?e.length:0;if(!r||t<1)return[];for(var i=0,o=0,a=Xc(Il(r/t));i<r;)a[o++]=ri(e,i,i+=t);return a}function Jo(e){for(var t=-1,n=e?e.length:0,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function Yo(){var e=arguments.length;if(!e)return[];for(var t=Xc(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return f(uh(n)?Li(n):[n],sr(t,1))}function Ko(e,t,n){var r=e?e.length:0;return r?(t=n||t===Z?1:du(t),ri(e,t<0?0:t,r)):[]}function Zo(e,t,n){var r=e?e.length:0;return r?(t=n||t===Z?1:du(t),t=r-t,ri(e,0,t<0?0:t)):[]}function ea(e,t){return e&&e.length?pi(e,po(t,3),!0,!0):[]}function ta(e,t){return e&&e.length?pi(e,po(t,3),!0):[]}function na(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&So(e,t,n)&&(n=0,r=i),Jn(e,t,n,r)):[]}function ra(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:du(n);return i<0&&(i=Ul(r+i,0)),y(e,po(t,3),i)}function ia(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r-1;return n!==Z&&(i=du(n),i=n<0?Ul(r+i,0):Ml(i,r-1)),y(e,po(t,3),i,!0)}function oa(e){var t=e?e.length:0;return t?sr(e,1):[]}function aa(e){var t=e?e.length:0;return t?sr(e,ke):[]}function sa(e,t){var n=e?e.length:0;return n?(t=t===Z?1:du(t),sr(e,t)):[]}function ua(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function ca(e){return e&&e.length?e[0]:Z}function la(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:du(n);return i<0&&(i=Ul(r+i,0)),m(e,t,i)}function fa(e){var t=e?e.length:0;return t?ri(e,0,-1):[]}function ha(e,t){return e?Ol.call(e,t):""}function pa(e){var t=e?e.length:0;return t?e[t-1]:Z}function da(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;return n!==Z&&(i=du(n),i=i<0?Ul(r+i,0):Ml(i,r-1)),t===t?$(e,t,i):y(e,b,i,!0)}function va(e,t){return e&&e.length?Qr(e,du(t)):Z}function ga(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}function _a(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,po(n,2)):e}function ya(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,Z,n):e}function ma(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=po(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Xr(e,i),n}function wa(e){return e?Dl.call(e):e}function ba(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&So(e,t,n)?(t=0,n=r):(t=null==t?0:du(t),n=n===Z?r:du(n)),ri(e,t,n)):[]}function Ea(e,t){return oi(e,t)}function xa(e,t,n){return ai(e,t,po(n,2))}function Ca(e,t){var n=e?e.length:0;if(n){var r=oi(e,t);if(r<n&&Ms(e[r],t))return r}return-1}function ja(e,t){return oi(e,t,!0)}function ka(e,t,n){return ai(e,t,po(n,2),!0)}function Sa(e,t){var n=e?e.length:0;if(n){var r=oi(e,t,!0)-1;if(Ms(e[r],t))return r}return-1}function Ra(e){return e&&e.length?si(e):[]}function Ia(e,t){return e&&e.length?si(e,po(t,2)):[]}function Ta(e){var t=e?e.length:0;return t?ri(e,1,t):[]}function Pa(e,t,n){return e&&e.length?(t=n||t===Z?1:du(t),ri(e,0,t<0?0:t)):[]}function Fa(e,t,n){var r=e?e.length:0;return r?(t=n||t===Z?1:du(t),t=r-t,ri(e,t<0?0:t,r)):[]}function La(e,t){return e&&e.length?pi(e,po(t,3),!1,!0):[]}function Oa(e,t){return e&&e.length?pi(e,po(t,3)):[]}function Aa(e){return e&&e.length?li(e):[]}function Ua(e,t){return e&&e.length?li(e,po(t,2)):[]}function Ma(e,t){return e&&e.length?li(e,Z,t):[]}function Na(e){if(!e||!e.length)return[];var t=0;return e=s(e,function(e){if(qs(e))return t=Ul(e.length,t),!0}),R(t,function(t){return l(e,x(t))})}function qa(e,t){if(!e||!e.length)return[];var r=Na(e);return null==t?r:l(r,function(e){return n(t,Z,e)})}function Ha(e,t){return gi(e||[],t||[],kn)}function Da(e,t){return gi(e||[],t||[],ti)}function Qa(e){var t=V(e);return t.__chain__=!0,t}function Ba(e,t){return t(e),e}function Wa(e,t){return t(e)}function za(){return Qa(this)}function Va(){return new Y(this.value(),this.__chain__)}function $a(){this.__values__===Z&&(this.__values__=hu(this.value()));var e=this.__index__>=this.__values__.length,t=e?Z:this.__values__[this.__index__++];return{done:e,value:t}}function Xa(){return this}function Ga(e){for(var t,n=this;n instanceof J;){var r=Xo(n);r.__index__=0,r.__values__=Z,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Ja(){var e=this.__wrapped__;if(e instanceof Pt){var t=e;return this.__actions__.length&&(t=new Pt(this)),t=t.reverse(),t.__actions__.push({func:Wa,args:[wa],thisArg:Z}),new Y(t,this.__chain__)}return this.thru(wa)}function Ya(){return di(this.__wrapped__,this.__actions__)}function Ka(e,t,n){var r=uh(e)?a:$n;return n&&So(e,t,n)&&(t=Z),r(e,po(t,3))}function Za(e,t){var n=uh(e)?s:rr;return n(e,po(t,3))}function es(e,t){return sr(as(e,t),1)}function ts(e,t){return sr(as(e,t),ke)}function ns(e,t,n){return n=n===Z?1:du(n),sr(as(e,t),n)}function rs(e,t){var n=uh(e)?i:af;return n(e,po(t,3))}function is(e,t){var n=uh(e)?o:sf;return n(e,po(t,3))}function os(e,t,n,r){e=Ns(e)?e:zu(e),n=n&&!r?du(n):0;var i=e.length;return n<0&&(n=Ul(i+n,0)),su(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&m(e,t,n)>-1}function as(e,t){var n=uh(e)?l:Mr;return n(e,po(t,3))}function ss(e,t,n,r){return null==e?[]:(uh(t)||(t=null==t?[]:[t]),n=r?Z:n,uh(n)||(n=null==n?[]:[n]),Br(e,t,n))}function us(e,t,n){var r=uh(e)?h:j,i=arguments.length<3;return r(e,po(t,4),n,i,af)}function cs(e,t,n){var r=uh(e)?p:j,i=arguments.length<3;return r(e,po(t,4),n,i,sf)}function ls(e,t){var n=uh(e)?s:rr;return n(e,Cs(po(t,3)))}function fs(e){var t=uh(e)?bn:Zr;return t(e)}function hs(e,t,n){t=(n?So(e,t,n):t===Z)?1:du(t);var r=uh(e)?En:ei;return r(e,t)}function ps(e){var t=uh(e)?xn:ni;return t(e)}function ds(e){if(null==e)return 0;if(Ns(e))return su(e)?X(e):e.length;var t=yf(e);return t==De||t==$e?e.size:Or(e).length}function vs(e,t,n){var r=uh(e)?d:ii;return n&&So(e,t,n)&&(t=Z),r(e,po(t,3))}function gs(e,t){if("function"!=typeof t)throw new nl(re);return e=du(e),function(){if(--e<1)return t.apply(this,arguments)}}function _s(e,t,n){return t=n?Z:t,t=e&&null==t?e.length:t,io(e,de,Z,Z,Z,Z,t)}function ys(e,t){var n;if("function"!=typeof t)throw new nl(re);return e=du(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=Z),n}}function ms(e,t,n){t=n?Z:t;var r=io(e,le,Z,Z,Z,Z,Z,t);return r.placeholder=ms.placeholder,r}function ws(e,t,n){t=n?Z:t;var r=io(e,fe,Z,Z,Z,Z,Z,t);return r.placeholder=ws.placeholder,r}function bs(e,t,n){function r(t){var n=h,r=p;return h=p=Z,y=t,v=e.apply(r,n)}function i(e){return y=e,g=bf(s,t),m?r(e):v}function o(e){var n=e-_,r=e-y,i=t-n;return w?Ml(i,d-r):i}function a(e){var n=e-_,r=e-y;return _===Z||n>=t||n<0||w&&r>=d}function s(){var e=Jf();return a(e)?u(e):void(g=bf(s,o(e)))}function u(e){return g=Z,b&&h?r(e):(h=p=Z,v)}function c(){g!==Z&&pf(g),y=0,h=_=p=g=Z}function l(){return g===Z?v:u(Jf())}function f(){var e=Jf(),n=a(e);if(h=arguments,p=this,_=e,n){if(g===Z)return i(_);if(w)return g=bf(s,t),r(_)}return g===Z&&(g=bf(s,t)),v}var h,p,d,v,g,_,y=0,m=!1,w=!1,b=!0;if("function"!=typeof e)throw new nl(re);return t=gu(t)||0,Js(n)&&(m=!!n.leading,w="maxWait"in n,d=w?Ul(gu(n.maxWait)||0,t):d,b="trailing"in n?!!n.trailing:b),f.cancel=c,f.flush=l,f}function Es(e){return io(e,ge)}function xs(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new nl(re);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(xs.Cache||on),n}function Cs(e){if("function"!=typeof e)throw new nl(re);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function js(e){return ys(2,e)}function ks(e,t){if("function"!=typeof e)throw new nl(re);return t=t===Z?t:du(t),Kr(e,t)}function Ss(e,t){if("function"!=typeof e)throw new nl(re);return t=t===Z?0:Ul(du(t),0),Kr(function(r){var i=r[t],o=wi(r,0,t);return i&&f(o,i),n(e,this,o)})}function Rs(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new nl(re);return Js(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),bs(e,t,{leading:r,maxWait:t,trailing:i})}function Is(e){return _s(e,1)}function Ts(e,t){return t=null==t?Ec:t,nh(t,e)}function Ps(){if(!arguments.length)return[];var e=arguments[0];return uh(e)?e:[e]}function Fs(e){return qn(e,!1,!0)}function Ls(e,t){return qn(e,!1,!0,t)}function Os(e){return qn(e,!0,!0)}function As(e,t){return qn(e,!0,!0,t)}function Us(e,t){return null==t||Bn(e,t,Fu(t))}function Ms(e,t){return e===t||e!==e&&t!==t}function Ns(e){return null!=e&&Gs(e.length)&&!$s(e)}function qs(e){return Ys(e)&&Ns(e)}function Hs(e){return e===!0||e===!1||Ys(e)&&hl.call(e)==Ue}function Ds(e){return null!=e&&1===e.nodeType&&Ys(e)&&!ou(e)}function Qs(e){if(Ns(e)&&(uh(e)||"string"==typeof e||"function"==typeof e.splice||lh(e)||vh(e)||sh(e)))return!e.length;var t=yf(e);if(t==De||t==$e)return!e.size;if(Fo(e))return!Or(e).length;for(var n in e)if(cl.call(e,n))return!1;return!0}function Bs(e,t){return jr(e,t)}function Ws(e,t,n){n="function"==typeof n?n:Z;var r=n?n(e,t):Z;return r===Z?jr(e,t,n):!!r}function zs(e){return!!Ys(e)&&(hl.call(e)==Ne||"string"==typeof e.message&&"string"==typeof e.name)}function Vs(e){return"number"==typeof e&&Ll(e)}function $s(e){var t=Js(e)?hl.call(e):"";return t==qe||t==He||t==ze}function Xs(e){return"number"==typeof e&&e==du(e)}function Gs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Se}function Js(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ys(e){return null!=e&&"object"==typeof e}function Ks(e,t){return e===t||Rr(e,t,go(t))}function Zs(e,t,n){return n="function"==typeof n?n:Z,Rr(e,t,go(t),n)}function eu(e){return iu(e)&&e!=+e}function tu(e){if(mf(e))throw new Jc(ne);return Ir(e)}function nu(e){return null===e}function ru(e){return null==e}function iu(e){return"number"==typeof e||Ys(e)&&hl.call(e)==Qe}function ou(e){if(!Ys(e)||hl.call(e)!=Be)return!1;var t=ml(e);if(null===t)return!0;var n=cl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ul.call(n)==fl}function au(e){return Xs(e)&&e>=-Se&&e<=Se}function su(e){return"string"==typeof e||!uh(e)&&Ys(e)&&hl.call(e)==Xe}function uu(e){return"symbol"==typeof e||Ys(e)&&hl.call(e)==Ge}function cu(e){return e===Z}function lu(e){return Ys(e)&&yf(e)==Je}function fu(e){return Ys(e)&&hl.call(e)==Ye}function hu(e){if(!e)return[];if(Ns(e))return su(e)?G(e):Li(e);if(wl&&e[wl])return H(e[wl]());var t=yf(e),n=t==De?D:t==$e?W:zu;return n(e)}function pu(e){if(!e)return 0===e?e:0;if(e=gu(e),e===ke||e===-ke){var t=e<0?-1:1;return t*Re}return e===e?e:0}function du(e){var t=pu(e),n=t%1;return t===t?n?t-n:t:0}function vu(e){return e?Nn(du(e),0,Te):0}function gu(e){if("number"==typeof e)return e;if(uu(e))return Ie;if(Js(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Js(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(jt,"");var n=Ut.test(e);return n||Nt.test(e)?Qn(e.slice(2),n?2:8):At.test(e)?Ie:+e}function _u(e){return Oi(e,Lu(e))}function yu(e){return Nn(du(e),-Se,Se)}function mu(e){return null==e?"":ci(e)}function wu(e,t){var n=of(e);return t?Pn(n,t):n}function bu(e,t){return _(e,po(t,3),cr)}function Eu(e,t){return _(e,po(t,3),lr)}function xu(e,t){return null==e?e:uf(e,po(t,3),Lu)}function Cu(e,t){return null==e?e:cf(e,po(t,3),Lu)}function ju(e,t){return e&&cr(e,po(t,3))}function ku(e,t){return e&&lr(e,po(t,3))}function Su(e){return null==e?[]:fr(e,Fu(e))}function Ru(e){return null==e?[]:fr(e,Lu(e))}function Iu(e,t,n){var r=null==e?Z:hr(e,t);return r===Z?n:r}function Tu(e,t){return null!=e&&wo(e,t,gr)}function Pu(e,t){return null!=e&&wo(e,t,_r)}function Fu(e){return Ns(e)?wn(e):Or(e)}function Lu(e){return Ns(e)?wn(e,!0):Ar(e)}function Ou(e,t){var n={};return t=po(t,3),cr(e,function(e,r,i){Fn(n,t(e,r,i),e)}),n}function Au(e,t){var n={};return t=po(t,3),cr(e,function(e,r,i){Fn(n,r,t(e,r,i))}),n}function Uu(e,t){return Mu(e,Cs(po(t)))}function Mu(e,t){return null==e?{}:zr(e,lo(e),po(t))}function Nu(e,t,n){t=Ro(t,e)?[t]:mi(t);var r=-1,i=t.length;for(i||(e=Z,i=1);++r<i;){var o=null==e?Z:e[zo(t[r])];o===Z&&(r=i,o=n),e=$s(o)?o.call(e):o}return e}function qu(e,t,n){return null==e?e:ti(e,t,n)}function Hu(e,t,n,r){return r="function"==typeof r?r:Z,null==e?e:ti(e,t,n,r)}function Du(e,t,n){var r=uh(e),o=r||lh(e)||vh(e);if(t=po(t,4),null==n){var a=e&&e.constructor;n=o?r?new a:[]:Js(e)&&$s(a)?of(ml(e)):{}}return(o?i:cr)(e,function(e,r,i){return t(n,e,r,i)}),n}function Qu(e,t){return null==e||fi(e,t)}function Bu(e,t,n){return null==e?e:hi(e,t,yi(n))}function Wu(e,t,n,r){return r="function"==typeof r?r:Z,null==e?e:hi(e,t,yi(n),r)}function zu(e){return e?P(e,Fu(e)):[]}function Vu(e){return null==e?[]:P(e,Lu(e))}function $u(e,t,n){return n===Z&&(n=t,t=Z),n!==Z&&(n=gu(n),n=n===n?n:0),t!==Z&&(t=gu(t),t=t===t?t:0),Nn(gu(e),t,n)}function Xu(e,t,n){return t=pu(t),n===Z?(n=t,t=0):n=pu(n),e=gu(e),yr(e,t,n)}function Gu(e,t,n){if(n&&"boolean"!=typeof n&&So(e,t,n)&&(t=n=Z),n===Z&&("boolean"==typeof t?(n=t,t=Z):"boolean"==typeof e&&(n=e,e=Z)),e===Z&&t===Z?(e=0,t=1):(e=pu(e),t===Z?(t=e,e=0):t=pu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Hl();return Ml(e+i*(t-e+Dn("1e-"+((i+"").length-1))),t)}return Gr(e,t)}function Ju(e){return Dh(mu(e).toLowerCase())}function Yu(e){return e=mu(e),e&&e.replace(Ht,ir).replace(Rn,"")}function Ku(e,t,n){e=mu(e),t=ci(t);var r=e.length;n=n===Z?r:Nn(du(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Zu(e){return e=mu(e),e&&vt.test(e)?e.replace(pt,or):e}function ec(e){return e=mu(e),e&&Ct.test(e)?e.replace(xt,"\\$&"):e}function tc(e,t,n){e=mu(e),t=du(t);var r=t?X(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Yi(Tl(i),n)+e+Yi(Il(i),n)}function nc(e,t,n){e=mu(e),t=du(t);var r=t?X(e):0;return t&&r<t?e+Yi(t-r,n):e}function rc(e,t,n){e=mu(e),t=du(t);var r=t?X(e):0;return t&&r<t?Yi(t-r,n)+e:e}function ic(e,t,n){return n||null==t?t=0:t&&(t=+t),ql(mu(e).replace(kt,""),t||0)}function oc(e,t,n){return t=(n?So(e,t,n):t===Z)?1:du(t),Yr(mu(e),t)}function ac(){var e=arguments,t=mu(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function sc(e,t,n){return n&&"number"!=typeof n&&So(e,t,n)&&(t=n=Z),(n=n===Z?Te:n>>>0)?(e=mu(e),e&&("string"==typeof t||null!=t&&!ph(t))&&(t=ci(t),!t&&N(e))?wi(G(e),0,n):e.split(t,n)):[]}function uc(e,t,n){return e=mu(e),n=Nn(du(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t}function cc(e,t,n){var r=V.templateSettings;n&&So(e,t,n)&&(t=Z),e=mu(e),t=wh({},t,r,Cn);var i,o,a=wh({},t.imports,r.imports,Cn),s=Fu(a),u=P(a,s),c=0,l=t.interpolate||Dt,f="__p += '",h=el((t.escape||Dt).source+"|"+l.source+"|"+(l===yt?Lt:Dt).source+"|"+(t.evaluate||Dt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++On+"]")+"\n";e.replace(h,function(t,n,r,a,s,u){return r||(r=a),f+=e.slice(c,u).replace(Qt,U),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),f+="';\n";var d=t.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(ct,""):f).replace(lt,"$1").replace(ft,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Qh(function(){return Yc(s,p+"return "+f).apply(Z,u)});if(v.source=f,zs(v))throw v;return v}function lc(e){return mu(e).toLowerCase()}function fc(e){return mu(e).toUpperCase()}function hc(e,t,n){if(e=mu(e),e&&(n||t===Z))return e.replace(jt,"");if(!e||!(t=ci(t)))return e;var r=G(e),i=G(t),o=L(r,i),a=O(r,i)+1;return wi(r,o,a).join("")}function pc(e,t,n){if(e=mu(e),e&&(n||t===Z))return e.replace(St,"");if(!e||!(t=ci(t)))return e;var r=G(e),i=O(r,G(t))+1;return wi(r,0,i).join("")}function dc(e,t,n){if(e=mu(e),e&&(n||t===Z))return e.replace(kt,"");if(!e||!(t=ci(t)))return e;var r=G(e),i=L(r,G(t));return wi(r,i).join("")}function vc(e,t){var n=me,r=we;if(Js(t)){var i="separator"in t?t.separator:i;n="length"in t?du(t.length):n,r="omission"in t?ci(t.omission):r}e=mu(e);var o=e.length;if(N(e)){var a=G(e);o=a.length}if(n>=o)return e;var s=n-X(r);if(s<1)return r;var u=a?wi(a,0,s).join(""):e.slice(0,s);if(i===Z)return u+r;if(a&&(s+=u.length-s),ph(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=el(i.source,mu(Ot.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,f===Z?s:f)}}else if(e.indexOf(ci(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function gc(e){return e=mu(e),e&&dt.test(e)?e.replace(ht,ar):e}function _c(e,t,n){return e=mu(e),t=n?Z:t,t===Z?q(e)?K(e):g(e):e.match(t)||[]}function yc(e){var t=e?e.length:0,r=po();return e=t?l(e,function(e){if("function"!=typeof e[1])throw new nl(re);return[r(e[0]),e[1]]}):[],Kr(function(r){for(var i=-1;++i<t;){var o=e[i];if(n(o[0],this,r))return n(o[1],this,r)}})}function mc(e){return Hn(qn(e,!0))}function wc(e){return function(){return e}}function bc(e,t){return null==e||e!==e?t:e}function Ec(e){return e}function xc(e){return Lr("function"==typeof e?e:qn(e,!0))}function Cc(e){return Nr(qn(e,!0))}function jc(e,t){return qr(e,qn(t,!0))}function kc(e,t,n){var r=Fu(t),o=fr(t,r);null!=n||Js(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=fr(t,Fu(t)));var a=!(Js(n)&&"chain"in n&&!n.chain),s=$s(e);return i(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Li(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,f([this.value()],arguments))})}),e}function Sc(){return zn._===this&&(zn._=pl),this}function Rc(){}function Ic(e){return e=du(e),Kr(function(t){return Qr(t,e)})}function Tc(e){return Ro(e)?x(zo(e)):Vr(e)}function Pc(e){return function(t){return null==e?Z:hr(e,t)}}function Fc(){return[]}function Lc(){return!1}function Oc(){return{}}function Ac(){return""}function Uc(){return!0}function Mc(e,t){if(e=du(e),e<1||e>Se)return[];var n=Te,r=Ml(e,Te);t=po(t),e-=Te;for(var i=R(r,t);++n<e;)t(n);return i}function Nc(e){return uh(e)?l(e,zo):uu(e)?[e]:Li(xf(e))}function qc(e){var t=++ll;return mu(e)+t}function Hc(e){return e&&e.length?Gn(e,Ec,vr):Z;
}function Dc(e,t){return e&&e.length?Gn(e,po(t,2),vr):Z}function Qc(e){return E(e,Ec)}function Bc(e,t){return E(e,po(t,2))}function Wc(e){return e&&e.length?Gn(e,Ec,Ur):Z}function zc(e,t){return e&&e.length?Gn(e,po(t,2),Ur):Z}function Vc(e){return e&&e.length?S(e,Ec):0}function $c(e,t){return e&&e.length?S(e,po(t,2)):0}C=C?ur.defaults(zn.Object(),C,ur.pick(zn,Ln)):zn;var Xc=C.Array,Gc=C.Date,Jc=C.Error,Yc=C.Function,Kc=C.Math,Zc=C.Object,el=C.RegExp,tl=C.String,nl=C.TypeError,rl=Xc.prototype,il=Yc.prototype,ol=Zc.prototype,al=C["__core-js_shared__"],sl=function(){var e=/[^.]+$/.exec(al&&al.keys&&al.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ul=il.toString,cl=ol.hasOwnProperty,ll=0,fl=ul.call(Zc),hl=ol.toString,pl=zn._,dl=el("^"+ul.call(cl).replace(xt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vl=Xn?C.Buffer:Z,gl=C.Symbol,_l=C.Uint8Array,yl=vl?vl.allocUnsafe:Z,ml=Q(Zc.getPrototypeOf,Zc),wl=gl?gl.iterator:Z,bl=Zc.create,El=ol.propertyIsEnumerable,xl=rl.splice,Cl=gl?gl.isConcatSpreadable:Z,jl=function(){try{var e=_o(Zc,"defineProperty");return e({},"",{}),e}catch(e){}}(),kl=C.clearTimeout!==zn.clearTimeout&&C.clearTimeout,Sl=Gc&&Gc.now!==zn.Date.now&&Gc.now,Rl=C.setTimeout!==zn.setTimeout&&C.setTimeout,Il=Kc.ceil,Tl=Kc.floor,Pl=Zc.getOwnPropertySymbols,Fl=vl?vl.isBuffer:Z,Ll=C.isFinite,Ol=rl.join,Al=Q(Zc.keys,Zc),Ul=Kc.max,Ml=Kc.min,Nl=Gc.now,ql=C.parseInt,Hl=Kc.random,Dl=rl.reverse,Ql=_o(C,"DataView"),Bl=_o(C,"Map"),Wl=_o(C,"Promise"),zl=_o(C,"Set"),Vl=_o(C,"WeakMap"),$l=_o(Zc,"create"),Xl=Vl&&new Vl,Gl={},Jl=Vo(Ql),Yl=Vo(Bl),Kl=Vo(Wl),Zl=Vo(zl),ef=Vo(Vl),tf=gl?gl.prototype:Z,nf=tf?tf.valueOf:Z,rf=tf?tf.toString:Z,of=function(){function e(){}return function(t){if(!Js(t))return{};if(bl)return bl(t);e.prototype=t;var n=new e;return e.prototype=Z,n}}();V.templateSettings={escape:gt,evaluate:_t,interpolate:yt,variable:"",imports:{_:V}},V.prototype=J.prototype,V.prototype.constructor=V,Y.prototype=of(J.prototype),Y.prototype.constructor=Y,Pt.prototype=of(J.prototype),Pt.prototype.constructor=Pt,Vt.prototype.clear=$t,Vt.prototype.delete=Xt,Vt.prototype.get=Gt,Vt.prototype.has=Jt,Vt.prototype.set=Yt,Kt.prototype.clear=Zt,Kt.prototype.delete=en,Kt.prototype.get=tn,Kt.prototype.has=nn,Kt.prototype.set=rn,on.prototype.clear=an,on.prototype.delete=sn,on.prototype.get=un,on.prototype.has=cn,on.prototype.set=ln,fn.prototype.add=fn.prototype.push=hn,fn.prototype.has=pn,dn.prototype.clear=vn,dn.prototype.delete=gn,dn.prototype.get=_n,dn.prototype.has=yn,dn.prototype.set=mn;var af=Ni(cr),sf=Ni(lr,!0),uf=qi(),cf=qi(!0),lf=Xl?function(e,t){return Xl.set(e,t),e}:Ec,ff=jl?function(e,t){return jl(e,"toString",{configurable:!0,enumerable:!1,value:wc(t),writable:!0})}:Ec,hf=Kr,pf=kl||function(e){return zn.clearTimeout(e)},df=zl&&1/W(new zl([,-0]))[1]==ke?function(e){return new zl(e)}:Rc,vf=Xl?function(e){return Xl.get(e)}:Rc,gf=Pl?Q(Pl,Zc):Fc,_f=Pl?function(e){for(var t=[];e;)f(t,gf(e)),e=ml(e);return t}:Fc,yf=dr;(Ql&&yf(new Ql(new ArrayBuffer(1)))!=Ze||Bl&&yf(new Bl)!=De||Wl&&yf(Wl.resolve())!=We||zl&&yf(new zl)!=$e||Vl&&yf(new Vl)!=Je)&&(yf=function(e){var t=hl.call(e),n=t==Be?e.constructor:Z,r=n?Vo(n):Z;if(r)switch(r){case Jl:return Ze;case Yl:return De;case Kl:return We;case Zl:return $e;case ef:return Je}return t});var mf=al?$s:Lc,wf=Bo(lf),bf=Rl||function(e,t){return zn.setTimeout(e,t)},Ef=Bo(ff),xf=Ao(function(e){e=mu(e);var t=[];return bt.test(e)&&t.push(""),e.replace(Et,function(e,n,r,i){t.push(r?i.replace(Ft,"$1"):n||e)}),t}),Cf=Kr(function(e,t){return qs(e)?Vn(e,sr(t,1,qs,!0)):[]}),jf=Kr(function(e,t){var n=pa(t);return qs(n)&&(n=Z),qs(e)?Vn(e,sr(t,1,qs,!0),po(n,2)):[]}),kf=Kr(function(e,t){var n=pa(t);return qs(n)&&(n=Z),qs(e)?Vn(e,sr(t,1,qs,!0),Z,n):[]}),Sf=Kr(function(e){var t=l(e,_i);return t.length&&t[0]===e[0]?mr(t):[]}),Rf=Kr(function(e){var t=pa(e),n=l(e,_i);return t===pa(n)?t=Z:n.pop(),n.length&&n[0]===e[0]?mr(n,po(t,2)):[]}),If=Kr(function(e){var t=pa(e),n=l(e,_i);return t===pa(n)?t=Z:n.pop(),n.length&&n[0]===e[0]?mr(n,Z,t):[]}),Tf=Kr(ga),Pf=uo(function(e,t){var n=e?e.length:0,r=Mn(e,t);return Xr(e,l(t,function(e){return ko(e,n)?+e:e}).sort(Ii)),r}),Ff=Kr(function(e){return li(sr(e,1,qs,!0))}),Lf=Kr(function(e){var t=pa(e);return qs(t)&&(t=Z),li(sr(e,1,qs,!0),po(t,2))}),Of=Kr(function(e){var t=pa(e);return qs(t)&&(t=Z),li(sr(e,1,qs,!0),Z,t)}),Af=Kr(function(e,t){return qs(e)?Vn(e,t):[]}),Uf=Kr(function(e){return vi(s(e,qs))}),Mf=Kr(function(e){var t=pa(e);return qs(t)&&(t=Z),vi(s(e,qs),po(t,2))}),Nf=Kr(function(e){var t=pa(e);return qs(t)&&(t=Z),vi(s(e,qs),Z,t)}),qf=Kr(Na),Hf=Kr(function(e){var t=e.length,n=t>1?e[t-1]:Z;return n="function"==typeof n?(e.pop(),n):Z,qa(e,n)}),Df=uo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Mn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Pt&&ko(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Wa,args:[i],thisArg:Z}),new Y(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(Z),e})):this.thru(i)}),Qf=Ui(function(e,t,n){cl.call(e,n)?++e[n]:Fn(e,n,1)}),Bf=zi(ra),Wf=zi(ia),zf=Ui(function(e,t,n){cl.call(e,n)?e[n].push(t):Fn(e,n,[t])}),Vf=Kr(function(e,t,r){var i=-1,o="function"==typeof t,a=Ro(t),s=Ns(e)?Xc(e.length):[];return af(e,function(e){var u=o?t:a&&null!=e?e[t]:Z;s[++i]=u?n(u,e,r):br(e,t,r)}),s}),$f=Ui(function(e,t,n){Fn(e,n,t)}),Xf=Ui(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Gf=Kr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&So(e,t[0],t[1])?t=[]:n>2&&So(t[0],t[1],t[2])&&(t=[t[0]]),Br(e,sr(t,1),[])}),Jf=Sl||function(){return zn.Date.now()},Yf=Kr(function(e,t,n){var r=se;if(n.length){var i=B(n,ho(Yf));r|=he}return io(e,r,t,n,i)}),Kf=Kr(function(e,t,n){var r=se|ue;if(n.length){var i=B(n,ho(Kf));r|=he}return io(t,r,e,n,i)}),Zf=Kr(function(e,t){return Wn(e,1,t)}),eh=Kr(function(e,t,n){return Wn(e,gu(t)||0,n)});xs.Cache=on;var th=hf(function(e,t){t=1==t.length&&uh(t[0])?l(t[0],T(po())):l(sr(t,1),T(po()));var r=t.length;return Kr(function(i){for(var o=-1,a=Ml(i.length,r);++o<a;)i[o]=t[o].call(this,i[o]);return n(e,this,i)})}),nh=Kr(function(e,t){var n=B(t,ho(nh));return io(e,he,Z,t,n)}),rh=Kr(function(e,t){var n=B(t,ho(rh));return io(e,pe,Z,t,n)}),ih=uo(function(e,t){return io(e,ve,Z,Z,Z,t)}),oh=eo(vr),ah=eo(function(e,t){return e>=t}),sh=Er(function(){return arguments}())?Er:function(e){return Ys(e)&&cl.call(e,"callee")&&!El.call(e,"callee")},uh=Xc.isArray,ch=Yn?T(Yn):xr,lh=Fl||Lc,fh=Kn?T(Kn):Cr,hh=Zn?T(Zn):Sr,ph=er?T(er):Tr,dh=tr?T(tr):Pr,vh=nr?T(nr):Fr,gh=eo(Ur),_h=eo(function(e,t){return e<=t}),yh=Mi(function(e,t){if(Fo(t)||Ns(t))return void Oi(t,Fu(t),e);for(var n in t)cl.call(t,n)&&kn(e,n,t[n])}),mh=Mi(function(e,t){Oi(t,Lu(t),e)}),wh=Mi(function(e,t,n,r){Oi(t,Lu(t),e,r)}),bh=Mi(function(e,t,n,r){Oi(t,Fu(t),e,r)}),Eh=uo(Mn),xh=Kr(function(e){return e.push(Z,Cn),n(wh,Z,e)}),Ch=Kr(function(e){return e.push(Z,Mo),n(Ih,Z,e)}),jh=Xi(function(e,t,n){e[t]=n},wc(Ec)),kh=Xi(function(e,t,n){cl.call(e,t)?e[t].push(n):e[t]=[n]},po),Sh=Kr(br),Rh=Mi(function(e,t,n){Hr(e,t,n)}),Ih=Mi(function(e,t,n,r){Hr(e,t,n,r)}),Th=uo(function(e,t){return null==e?{}:(t=l(t,zo),Wr(e,Vn(lo(e),t)))}),Ph=uo(function(e,t){return null==e?{}:Wr(e,l(t,zo))}),Fh=ro(Fu),Lh=ro(Lu),Oh=Qi(function(e,t,n){return t=t.toLowerCase(),e+(n?Ju(t):t)}),Ah=Qi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Uh=Qi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Mh=Di("toLowerCase"),Nh=Qi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),qh=Qi(function(e,t,n){return e+(n?" ":"")+Dh(t)}),Hh=Qi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Dh=Di("toUpperCase"),Qh=Kr(function(e,t){try{return n(e,Z,t)}catch(e){return zs(e)?e:new Jc(e)}}),Bh=uo(function(e,t){return i(t,function(t){t=zo(t),Fn(e,t,Yf(e[t],e))}),e}),Wh=Vi(),zh=Vi(!0),Vh=Kr(function(e,t){return function(n){return br(n,e,t)}}),$h=Kr(function(e,t){return function(n){return br(e,n,t)}}),Xh=Ji(l),Gh=Ji(a),Jh=Ji(d),Yh=Zi(),Kh=Zi(!0),Zh=Gi(function(e,t){return e+t},0),ep=no("ceil"),tp=Gi(function(e,t){return e/t},1),np=no("floor"),rp=Gi(function(e,t){return e*t},1),ip=no("round"),op=Gi(function(e,t){return e-t},0);return V.after=gs,V.ary=_s,V.assign=yh,V.assignIn=mh,V.assignInWith=wh,V.assignWith=bh,V.at=Eh,V.before=ys,V.bind=Yf,V.bindAll=Bh,V.bindKey=Kf,V.castArray=Ps,V.chain=Qa,V.chunk=Go,V.compact=Jo,V.concat=Yo,V.cond=yc,V.conforms=mc,V.constant=wc,V.countBy=Qf,V.create=wu,V.curry=ms,V.curryRight=ws,V.debounce=bs,V.defaults=xh,V.defaultsDeep=Ch,V.defer=Zf,V.delay=eh,V.difference=Cf,V.differenceBy=jf,V.differenceWith=kf,V.drop=Ko,V.dropRight=Zo,V.dropRightWhile=ea,V.dropWhile=ta,V.fill=na,V.filter=Za,V.flatMap=es,V.flatMapDeep=ts,V.flatMapDepth=ns,V.flatten=oa,V.flattenDeep=aa,V.flattenDepth=sa,V.flip=Es,V.flow=Wh,V.flowRight=zh,V.fromPairs=ua,V.functions=Su,V.functionsIn=Ru,V.groupBy=zf,V.initial=fa,V.intersection=Sf,V.intersectionBy=Rf,V.intersectionWith=If,V.invert=jh,V.invertBy=kh,V.invokeMap=Vf,V.iteratee=xc,V.keyBy=$f,V.keys=Fu,V.keysIn=Lu,V.map=as,V.mapKeys=Ou,V.mapValues=Au,V.matches=Cc,V.matchesProperty=jc,V.memoize=xs,V.merge=Rh,V.mergeWith=Ih,V.method=Vh,V.methodOf=$h,V.mixin=kc,V.negate=Cs,V.nthArg=Ic,V.omit=Th,V.omitBy=Uu,V.once=js,V.orderBy=ss,V.over=Xh,V.overArgs=th,V.overEvery=Gh,V.overSome=Jh,V.partial=nh,V.partialRight=rh,V.partition=Xf,V.pick=Ph,V.pickBy=Mu,V.property=Tc,V.propertyOf=Pc,V.pull=Tf,V.pullAll=ga,V.pullAllBy=_a,V.pullAllWith=ya,V.pullAt=Pf,V.range=Yh,V.rangeRight=Kh,V.rearg=ih,V.reject=ls,V.remove=ma,V.rest=ks,V.reverse=wa,V.sampleSize=hs,V.set=qu,V.setWith=Hu,V.shuffle=ps,V.slice=ba,V.sortBy=Gf,V.sortedUniq=Ra,V.sortedUniqBy=Ia,V.split=sc,V.spread=Ss,V.tail=Ta,V.take=Pa,V.takeRight=Fa,V.takeRightWhile=La,V.takeWhile=Oa,V.tap=Ba,V.throttle=Rs,V.thru=Wa,V.toArray=hu,V.toPairs=Fh,V.toPairsIn=Lh,V.toPath=Nc,V.toPlainObject=_u,V.transform=Du,V.unary=Is,V.union=Ff,V.unionBy=Lf,V.unionWith=Of,V.uniq=Aa,V.uniqBy=Ua,V.uniqWith=Ma,V.unset=Qu,V.unzip=Na,V.unzipWith=qa,V.update=Bu,V.updateWith=Wu,V.values=zu,V.valuesIn=Vu,V.without=Af,V.words=_c,V.wrap=Ts,V.xor=Uf,V.xorBy=Mf,V.xorWith=Nf,V.zip=qf,V.zipObject=Ha,V.zipObjectDeep=Da,V.zipWith=Hf,V.entries=Fh,V.entriesIn=Lh,V.extend=mh,V.extendWith=wh,kc(V,V),V.add=Zh,V.attempt=Qh,V.camelCase=Oh,V.capitalize=Ju,V.ceil=ep,V.clamp=$u,V.clone=Fs,V.cloneDeep=Os,V.cloneDeepWith=As,V.cloneWith=Ls,V.conformsTo=Us,V.deburr=Yu,V.defaultTo=bc,V.divide=tp,V.endsWith=Ku,V.eq=Ms,V.escape=Zu,V.escapeRegExp=ec,V.every=Ka,V.find=Bf,V.findIndex=ra,V.findKey=bu,V.findLast=Wf,V.findLastIndex=ia,V.findLastKey=Eu,V.floor=np,V.forEach=rs,V.forEachRight=is,V.forIn=xu,V.forInRight=Cu,V.forOwn=ju,V.forOwnRight=ku,V.get=Iu,V.gt=oh,V.gte=ah,V.has=Tu,V.hasIn=Pu,V.head=ca,V.identity=Ec,V.includes=os,V.indexOf=la,V.inRange=Xu,V.invoke=Sh,V.isArguments=sh,V.isArray=uh,V.isArrayBuffer=ch,V.isArrayLike=Ns,V.isArrayLikeObject=qs,V.isBoolean=Hs,V.isBuffer=lh,V.isDate=fh,V.isElement=Ds,V.isEmpty=Qs,V.isEqual=Bs,V.isEqualWith=Ws,V.isError=zs,V.isFinite=Vs,V.isFunction=$s,V.isInteger=Xs,V.isLength=Gs,V.isMap=hh,V.isMatch=Ks,V.isMatchWith=Zs,V.isNaN=eu,V.isNative=tu,V.isNil=ru,V.isNull=nu,V.isNumber=iu,V.isObject=Js,V.isObjectLike=Ys,V.isPlainObject=ou,V.isRegExp=ph,V.isSafeInteger=au,V.isSet=dh,V.isString=su,V.isSymbol=uu,V.isTypedArray=vh,V.isUndefined=cu,V.isWeakMap=lu,V.isWeakSet=fu,V.join=ha,V.kebabCase=Ah,V.last=pa,V.lastIndexOf=da,V.lowerCase=Uh,V.lowerFirst=Mh,V.lt=gh,V.lte=_h,V.max=Hc,V.maxBy=Dc,V.mean=Qc,V.meanBy=Bc,V.min=Wc,V.minBy=zc,V.stubArray=Fc,V.stubFalse=Lc,V.stubObject=Oc,V.stubString=Ac,V.stubTrue=Uc,V.multiply=rp,V.nth=va,V.noConflict=Sc,V.noop=Rc,V.now=Jf,V.pad=tc,V.padEnd=nc,V.padStart=rc,V.parseInt=ic,V.random=Gu,V.reduce=us,V.reduceRight=cs,V.repeat=oc,V.replace=ac,V.result=Nu,V.round=ip,V.runInContext=v,V.sample=fs,V.size=ds,V.snakeCase=Nh,V.some=vs,V.sortedIndex=Ea,V.sortedIndexBy=xa,V.sortedIndexOf=Ca,V.sortedLastIndex=ja,V.sortedLastIndexBy=ka,V.sortedLastIndexOf=Sa,V.startCase=qh,V.startsWith=uc,V.subtract=op,V.sum=Vc,V.sumBy=$c,V.template=cc,V.times=Mc,V.toFinite=pu,V.toInteger=du,V.toLength=vu,V.toLower=lc,V.toNumber=gu,V.toSafeInteger=yu,V.toString=mu,V.toUpper=fc,V.trim=hc,V.trimEnd=pc,V.trimStart=dc,V.truncate=vc,V.unescape=gc,V.uniqueId=qc,V.upperCase=Hh,V.upperFirst=Dh,V.each=rs,V.eachRight=is,V.first=ca,kc(V,function(){var e={};return cr(V,function(t,n){cl.call(V.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),V.VERSION=ee,i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){V[e].placeholder=V}),i(["drop","take"],function(e,t){Pt.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Pt(this);n=n===Z?1:Ul(du(n),0);var i=this.clone();return r?i.__takeCount__=Ml(n,i.__takeCount__):i.__views__.push({size:Ml(n,Te),type:e+(i.__dir__<0?"Right":"")}),i},Pt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),i(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==xe||n==je;Pt.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:po(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),i(["head","last"],function(e,t){var n="take"+(t?"Right":"");Pt.prototype[e]=function(){return this[n](1).value()[0]}}),i(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Pt.prototype[e]=function(){return this.__filtered__?new Pt(this):this[n](1)}}),Pt.prototype.compact=function(){return this.filter(Ec)},Pt.prototype.find=function(e){return this.filter(e).head()},Pt.prototype.findLast=function(e){return this.reverse().find(e)},Pt.prototype.invokeMap=Kr(function(e,t){return"function"==typeof e?new Pt(this):this.map(function(n){return br(n,e,t)})}),Pt.prototype.reject=function(e){return this.filter(Cs(po(e)))},Pt.prototype.slice=function(e,t){e=du(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Pt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Z&&(t=du(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Pt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Pt.prototype.toArray=function(){return this.take(Te)},cr(Pt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=V[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(V.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Pt,u=a[0],c=s||uh(t),l=function(e){var t=i.apply(V,f([e],a));return r&&h?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=o&&!h,v=s&&!p;if(!o&&c){t=v?t:new Pt(this);var g=e.apply(t,a);return g.__actions__.push({func:Wa,args:[l],thisArg:Z}),new Y(g,h)}return d&&v?e.apply(this,a):(g=this.thru(l),d?r?g.value()[0]:g.value():g)})}),i(["pop","push","shift","sort","splice","unshift"],function(e){var t=rl[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);V.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(uh(i)?i:[],e)}return this[n](function(n){return t.apply(uh(n)?n:[],e)})}}),cr(Pt.prototype,function(e,t){var n=V[t];if(n){var r=n.name+"",i=Gl[r]||(Gl[r]=[]);i.push({name:t,func:n})}}),Gl[$i(Z,ue).name]=[{name:"wrapper",func:Z}],Pt.prototype.clone=Bt,Pt.prototype.reverse=Wt,Pt.prototype.value=zt,V.prototype.at=Df,V.prototype.chain=za,V.prototype.commit=Va,V.prototype.next=$a,V.prototype.plant=Ga,V.prototype.reverse=Ja,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=Ya,V.prototype.first=V.prototype.head,wl&&(V.prototype[wl]=Xa),V},ur=sr();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(zn._=ur,define("sap/watt/lib/lodash/lodash",[],function(){return ur})):$n?(($n.exports=ur)._=ur,Vn._=ur):zn._=ur}.call(this),define("sap/watt/core/UtilsQSap",["sap/watt/core/q","sap/watt/ui5/UI5Loader","sap/watt/lib/xhr/xhrlib","sap/watt/lib/lodash/lodash"],function(e,t,n,r){if(e.sap)throw new Error("Q.sap namespace is already defined");e.sap={},e.sap.Queue=function(){this._oPromise=e()},e.sap.Queue.prototype.next=function(e){return this._oPromise=this._oPromise.then(e,e),this._oPromise},n.FrameLogonManager.startup();var i=n.LogonManager.getInstance();i.createIgnoreList(),i.ignore.add(function(){return!0});var o=function(t,n){if(n&&(n.data&&(n.data instanceof Blob||n.data instanceof ArrayBuffer)||n.responseType&&"text"!==n.responseType&&"json"!==n.responseType)){var r;r=window.sinon&&window.sinon.xhr&&window.sinon.xhr.workingXHR?new window.sinon.xhr.workingXHR:new XMLHttpRequest;var i=(n&&n.type||"GET").toUpperCase();r.open(i,t,!0);var o=n.headers||{};n.data instanceof Blob&&n.data.type&&(o["Content-Type"]=n.data.type);for(var a in o)r.setRequestHeader(a,o[a]);n.responseType&&(r.responseType=n.responseType);var s=e.defer();return r.onreadystatechange=function(){if(4===this.readyState)if(this.status<300&&this.status>=200)s.resolve([this.response,r,r.statusText]);else{var e=new Error("Request Failed: "+this.statusText+" URI: "+t);e.status=this.status,e.statusText=this.statusText,e.getResponseHeader=this.getResponseHeader.bind(this),""!==this.responseType&&"text"!==this.responseType||(e.responseText=this.responseText),s.reject(e)}},r.send(n.data),s.promise}var u=jQuery.ajax(t,n),c=e.defer();return u.then(function(e,t,n){delete u.then,c.resolve([e,u,t])},function(e,n,r){var i=u.responseJSON&&u.responseJSON.Message?"\n\nMessage: "+u.responseJSON.Message:"",o=new Error("Request failed: "+u.statusText+" URI: "+t+i);o.status=u.status,o.statusText=u.statusText,o.responseText=u.responseText,o.responseJSON=u.responseJSON,o.textStatus=n,o.errorThrown=r,o.getResponseHeader=u.getResponseHeader.bind(u),o.jqXHR=e,c.reject(o)}),c.promise},a={};e.sap.ajax=function(e,t){var n=a[e];if(r.isEmpty(a)||void 0===n)return o(e,t);if(null===n){var i=o(e,t);return a[e]=i,i}return delete a[e],n},e.sap.ajax.setPrefetchUri=function(e){a[e]=null},e.sap.require=function(t,n){var r=e.defer();return require([t],function(e){e||n?r.resolve(e):r.reject(new Error(t+" could not be loaded. The file exists, but is either defining a module with a different name or not defining anything. Please remove the module name or add the missing define."))},function(e){r.reject(new Error("Error loading module from path '"+t+"'\nOriginal error message: "+e.message+"\nError stack: "+e.stack+"\n -----------"))}),r.promise},e.sap.ui=e.sap.ui||{},e.sap.ui.define=function(t){var n=e.defer();return sap.ui.define([t],function(e){e?n.resolve(e):n.reject(new Error(t+" could not be loaded. The file exists, but is either defining a module with a different name or not defining anything. Please remove the module name or add the missing define."))},!1),n.promise}}),define("sap/watt/core/Env",["sap/watt/core/q"],function(e){function t(t){var n=e.getBluebirdPromise();return new n(function(e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status?e(r.responseText):n(new Error(r.responseText)))},r.open("GET",t,!0),r.send(null)})}function n(e,t){for(var n in t)e[n]&&console.log("Overriding environment variable "+n+", old value: "+e[n]+", new value: "+t[n]),e[n]=t[n]}function r(n){if(n.envObj)return e(n.envObj);var r=n.sEnvPath||"env.json",i=window.location.search?r+window.location.search:r;return t(i).then(function(e){return JSON.parse(e)})}function i(e){var t={sBaseDir:"base_path",runnew:"runNew","static-ws":"staticWSMode",dev:"devMode",debug:"debugMode",iframe:"iframeMode",test:"test","skip-health-check":"skip-health-check"};for(var n in e){var r=t[n];if(r){if(e[r]=e[n],"staticWSMode"===r){var i=/static-ws-ui5-root=([^&]+)(?:&|$)/.exec(document.location.search);e.staticWSUI5Root=i?decodeURIComponent(i[1]):void 0,e.staticWSMode=!0}"test"===r&&"selenium"===e[r]&&(e.usage_analytics="selenium")}}var o=window.location.hostname,a=o.split("."),s=a[0];a.shift();var u=a.join(".");a.shift();var c=s.split("-")[1],l=a.join(".");for(var n in e){var f=e[n];"string"==typeof f&&(e[n]=f.replace("{{account}}",c).replace("{{landscape}}",l).replace("{{dispatcher}}",u))}void 0===e.internal&&(e.internal="neo.ondemand.com"===l||"staging.hanavlab.ondemand.com"===l||"int.sap.hana.ondemand.com"===l),"true"===sap.watt.getURLParameter("sap-ide-external")&&(e.internal=!1)}function o(){var e={};return e.application_root=window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/")+1),e}function a(){var e,t,n="sap-ide-",r={};e=window.location.search.substring(1).split("&");for(var i=0;i<e.length;i++){t=e[i].split("=");var o=decodeURIComponent(t[0]),a=o;0===o.indexOf(n)&&(a=o.substring(n.length));var s=decodeURIComponent(t[1]);try{s=JSON.parse(s)}catch(e){}r[a]=s}return r}var s={"idebootstrap-feature-config":"dynamic","idebootstrap-css":"sap/watt/saptoolsets/common/plugin/ide/css/MainLayout.css",high_latency_timeout:400};return{loadEnv:function(e){var t={};return n(t,s),n(t,e),n(t,o()),r(t).then(function(e){return n(t,e),a()}).then(function(e){return n(t,e),i(t),console.log("Environment variables:\n"+JSON.stringify(t,null,2)),window["sap-ide-env"]=t,t})}}}),SevereError.prototype=Object.create(Error.prototype),SevereError.prototype.constructor=SevereError,define("sap/watt/core/ErrorHandling",["sap/watt/core/q","./UtilsCore","sap/watt/core/Env"],function(e,t,n){function r(e,t){if(self.sap&&self.sap.m&&self.sap.m.Dialog){var n=new sap.m.Text,r="Unhandled technical error";t&&(r+=" in "+t),n.setText(e);var i=new sap.m.Dialog({title:r,icon:"sap-icon://error",state:sap.ui.core.ValueState.Error,contentWidth:"33%",contentHeight:"33%",content:[n],buttons:[new sap.m.Button({text:"Ok",press:function(){i.close()}}),new sap.m.Button({text:"Restart SAP Web IDE in debug mode",visible:!(sap.watt.getEnv("debug")&&sap.watt.getEnv("debug-async")),press:function(){window.location.search+="&sap-ide-debug=true&sap-ide-debug-async=true",i.close()}})]});i.open()}else alert(e)}function i(e){if(a)console.error(e);else{sap.watt.includeCSS("sap/watt/core/css/SAPWebIDEFailure.css");var t=require.toUrl("sap/watt/core/image/failure.png");e||(e="SAP Web IDE is not available now.<br/>We're working hard to get SAP Web IDE up and running as soon as possible."),jQuery("#failure").html('<div class="failure_container"><div class="center_margin"><img src="'+t+'" alt="Sorry."</img></div><div class="failure_title failure_text center_margin">Sorry.</div><div class="failure_text center_margin">'+e+"</div></div>"),jQuery("#failure").show(),a=!0}}function o(e){e instanceof SevereError?i(e.message):(e._webIdeModuleContext&&(e.message="Error in module: "+e._webIdeModuleContext+" \n"+e.message),sap.watt.getEnv("internal")===!0||sap.watt.getEnv("debugMode")===!0||"true"===sap.watt.getEnv("internal")||"true"===sap.watt.getEnv("debugMode")?r(e.message+"\nCall stack:"+e.stack,e._webIdeModuleContext):(console.error(e.message),console.error(e.stack)))}var a=!1;e.onerror=function(e){throw e},window.addEventListener("unhandledrejection",function(e){e.preventDefault();var t=null;if(e.detail||(e.detail=e),e.detail.reason instanceof Error)t=e.detail.reason;else{var n="Unhandled error: A promise was rejected with a value different from Error and the rejection was not handled. ";try{t=new Error(n+"The rejection reason is: "+JSON.stringify(e.detail.reason,null,4))}catch(e){t=new Error(n+"The rejection reason cannot be displayed because of following error: "+e)}e.detail.promise._trace&&(t.stack=e.detail.promise._trace.stack)}throw t}),window.addEventListener("error",function(e){var t=e.error,n=e.lineno,r=e.message,i=e.filename,a=e.colno;if(!t){if("Script error."===r||i&&0===i.indexOf("chrome-extension"))return void e.stopPropagation();t=new Error(r?r:"no details available",i?i:"",n?n:void 0,a?a:void 0)}window.ui5WattQunit||sap.watt.network.getNetworkState().then(function(e){var n=sap&&sap.watt&&sap.watt.getEnv("orion_preview_wattonwatt");n||e.isNetworkAvailable()?!n&&e.isSessionTimeOutInPreview()?o(new SevereError("Your preview session timed out. Press F5 to refresh the tab and continue.")):(n||e.isResponseOk())&&(r||t instanceof Error||4!==t.readyState||!(t.status<200||t.status>=300))?"SESSION_GONE"===t.message||"SESSION_LOST"===t.message?sap.watt.fireBrowserEvent("webide_session_gone"):(o(t),sap.watt.fireBrowserEvent("webide_unhandled_error","error",t)):(console.error("Unexpected server response: ",t.responseText||e.getLastError()),o(new SevereError("We are experiencing a network problem. Please try reloading SAP Web IDE. If the problem persists, report an incident to SAP support."))):o(new SevereError("SAP Cloud Platform cannot be reached. Please make sure that you are connected to the network and try again."))}).done()})}),define("sap/watt/core/HealthCheck",["sap/watt/core/ErrorHandling","sap/watt/core/UtilsQSap","sap/watt/core/Env"],function(){"use strict";function e(e,t){for(var n=0;n<e.length;n++){var r=e[n];(r.responseCode&&t===r.responseCode||!r.responseCode&&(t<200||t>=300))&&(console.error("The health check of URL "+r.url+" failed. Expected responde code is 2**, actual is "+t+"."),Q(new r.severity(r.message)).then(function(e){throw e}))}}var t=500,n=[{responseCode:403,message:"You are not authorized to work with SAP Web IDE.<br/>Ask your account administrator to assign you to the SAP Web IDE DiDeveloper role.<br/>See the <a href='https://help.sap.com/viewer/825270ffffe74d9f988a0f0066ad59f0/CF/en-US/102a024b1e344c54a0df7d835163b039.html'>documentation</a>.",severity:SevereError},{responseCode:401,message:"You are not authorized to work with SAP Web IDE.<br/>Make sure of the following:<br/><li>You entered the correct username and password.</li><li>Your account administrator has enabled principle propagation in your account. See the <a href='https://help.sap.com/viewer/825270ffffe74d9f988a0f0066ad59f0/CF/en-US/07fb625d733042c2aba443adaf32b7ff.html'>documentation</a>.</li>",severity:SevereError},{message:null,severity:SevereError}];return{execute:function(){if(sap.watt.getEnv("skip-health-check")!==!1&&(sap.watt.getEnv("skip-health-check")===!0||sap.watt.getEnv("staticWSMode")===!0))return Q();var r=sap.watt.getEnv("che_server");if(!r)return Q();var i=sap.watt.getEnv("high_latency_timeout");r+="profile";var o={};o[r]={iTimeOut:i+t,aChecks:n},o["index.html?"+Math.floor(Date.now())]={iTimeOut:i};var a=[];for(var s in o){var u=o[s];u.url=s;var c=Q(u).then(function(t){Q.sap.ajax(t.url).fail(function(n){t.aChecks&&t.aChecks.length>0&&e(t.aChecks,n.status)}).spread(function(n,r){t.aChecks&&t.aChecks.length>0&&e(t.aChecks,r.status)}).timeout(t.iTimeOut).catch(function(e){return e.code&&"ETIMEDOUT"===e.code&&$("#latencyMainDiv").addClass("visibleElemWithAnim"),c})});a.push(c)}return Q.all(a)}}}),define("sap/watt/core/prefetch/WorkspaceData",["sap/watt/lib/lodash/lodash","sap/watt/core/UtilsQSap"],function(e){"use strict";function t(e){return Q.sap.ajax(e,{dataType:"json"}).spread(function(e){return Q(e)})}var n={prefetch:function(){var n=sap.watt.getEnv("che_server");if(n){var r=n+"workspace/all";Q.sap.ajax.setPrefetchUri(r),t(r).then(function(r){if(r){var i=sap.watt.getURLParameter("workspaceId");if(i&&(r=r.filter(function(e){return e&&e.workspaceReference&&e.workspaceReference.id===i})),r.length>0&&r[0].workspaceReference.id){var o=n+"project-type";Q.sap.ajax.setPrefetchUri(o),t(o).done();var a=n+"project/"+r[0].workspaceReference.id,s=a+"/tree/?depth=1000&includeFiles=true";Q.sap.ajax.setPrefetchUri(s),t(s).done(),t(a+"/tree/?depth=1").then(function(n){e.forEach(n.children,function(e){var n=a+e.node.path;Q.sap.ajax.setPrefetchUri(n),t(n).done()})}).done()}}}).fail(function(e){console.error("Workspace prefetch failed.\n"+e.stack)}).done()}}};return n}),define("sap/watt/core/prefetch/DestinationsData",["sap/watt/core/UtilsQSap"],function(){"use strict";function e(e){return Q.sap.ajax(e,{dataType:"json"}).spread(function(e){return Q(e)})}var t={prefetch:function(){var t=sap.watt.getEnv("context_root")+"api/listDestinations";Q.sap.ajax.setPrefetchUri(t),e(t).fail(function(e){console.error("Destinations prefetch failed.\n"+e.stack)}).done()}};return t}),define("sap/watt/core/prefetch/UtilsPrefetch",["./WorkspaceData","./DestinationsData"],function(e,t){"use strict";var n={execute:function(){e.prefetch(),t.prefetch()}};return n}),define("sap/watt/core/IdeLoader",["sap/watt/core/UtilsCore","sap/watt/core/UtilsQSap","sap/watt/core/Env","sap/watt/core/q","sap/watt/core/ErrorHandling","sap/watt/ui5/UI5Loader","sap/watt/core/HealthCheck","sap/watt/core/prefetch/UtilsPrefetch"],function(e,t,n,r,i,o,a,s){function u(e){o.load(e).then(function(){sap.watt.fireBrowserEvent("webide_after_sapui5_loaded"),a.execute().then(function(){s.execute()}).done(),window._startCallback&&window._startCallback(),require([e.sMain])})}return{init:u}}),define("sap/watt/core/ConfigPreload",["sap/watt/lib/lodash/lodash"],function(e){"use strict";var t={plugins:{},interfaces:{}},n=new URI(require.toUrl("a")).absoluteTo(new URI(document.location.href)),r={loadPreload:function(n){if(sap.watt.getEnv("debugMode"))return Q();var r=this;return Q(jQuery.ajax({url:n,dataType:"json"})).then(function(i){e.assign(t.interfaces,i.interfaces);var o={};e.forEach(i.plugins,function(e,t){o[r.toInternalPath(t,i.compatibilityMode?void 0:n)]=e}),e.assign(t.plugins,o)},function(e){return console.log("Could not load configuration preload from "+n+", Reason: "+e.statusText),null})},loadJSPreload:function(e){if(sap.watt.getEnv("debugMode"))return Q();var t=Q.defer();return require([e],function(){t.resolve()},function(n){console.log("Could not load JS preload for "+e+", Reason: "+n),t.resolve()}),t.promise},getPreload:function(e,n){var r=t&&t[e]&&t[e][n];return r?Q(r):Q.reject(new Error)},toInternalPath:function(e,t){var r=new URI(e).absoluteTo(t||n),i=r.normalize().path();return i=i.replace(/\/$/g,"")}};return r}),define("sap/watt/core/Interface",["./ConfigPreload","sap/watt/lib/lodash/lodash"],function(e,t){"use strict";function n(e){return!t.isEmpty(e)}var r=function(e){this._vInterfaces=e,this._mInterfaces={},this._mConfigurationProperties={},this._mEvents={},this._mMethods={}};return r.mInterfaces={},r.create=function(e){var t=new r(e);return t.initialize()},r.register=function(e,t){return r.mInterfaces[e]?new Error("Interface "+e+" has been provided twice!"):void("string"==typeof t?r.mInterfaces[e]=require.toUrl(t):r.mInterfaces[e]=Q(t))},r.SUPPORTED_TYPES={string:!0,number:!0,boolean:!0,object:!0,"[string]":!0,"[number]":!0,"[boolean]":!0,"[object]":!0},r.load=function(n){var i=r.mInterfaces,o=i[n];if(!o){var a=n.replace(/\./g,"/");o=require.toUrl(a)+".json",console.warn("Deprecation Warning: The interface '"+n+"' is not provided. Please provide the interface in a plugin.json file")}return t.isString(o)?i[n]=e.getPreload("interfaces",n).then(null,function(){return Q(jQuery.ajax({url:o,dataType:"json"}).then(function(e){return e},function(){return new Error("Cannot parse interface '"+n+"' from path '"+o+"'")}))}):o},r.prototype.initialize=function(){var e=this;return delete this.initialize,this._loadInterfaces(this._vInterfaces).then(function(){return e})},r.prototype.createConfigurationObject=function(){var e=this.getConfigurationProperties(),t={};for(var n in e){var r=e[n],i=void 0;r.multiple&&(i=[]),t[n]=i}return t},r.prototype.isConfigurationPropertyMultiple=function(e){return this.getConfigurationProperties()[e].multiple},r.prototype.isSimpleType=function(e){return"string"==typeof e&&r.SUPPORTED_TYPES[e]},r.prototype.isComplexType=function(e){return Array.isArray(e)||t.isPlainObject(e)},r.prototype.isProxyType=function(e){return!this.isSimpleType(e)&&!this.isComplexType(e)},r.prototype.hasConfigurationProperties=function(){return n(this.getConfigurationProperties())},r.prototype.getConfigurationProperties=function(){return this._mConfigurationProperties},r.prototype.hasMethods=function(){return n(this.getMethods())},r.prototype.getMethods=function(){return this._mMethods},r.prototype.hasEvents=function(){return n(this.getEvents())},r.prototype.getEvents=function(){return this._mEvents},r.prototype.hasInterfaces=function(){return n(this._mInterfaces)},r.prototype.hasInterface=function(e){return!!this._mInterfaces[e];
},r.prototype.getMethodDefaultReturnValue=function(e){return"undefined"!=typeof this._mMethods[e].returns&&{type:this._mMethods[e].returns.type,default:this._mMethods[e].returns.default}},r.prototype._loadInterfaces=function(e,n){var i=this;n=n||{};var o=[];"string"==typeof e?o.push(e):Array.isArray(e)&&(o=e);var a=o.map(function(e){if(n[e])return new Error("Interface "+e+" inherits from itself");var o=t.clone(n);o[e]=!0;var a=r.load(e).then(function(e){return e.extends?i._loadInterfaces(e.extends,o).then(function(){return e}):e});return a});return Q.all(a).then(function(e){o.forEach(function(t,n){if(!i._mInterfaces[t]){var r=e[n];i._mInterfaces[t]=r,i._mergeInterface(r)}})})},r.prototype._mergeInterface=function(e){this._mergeInterfaceSection("_mConfigurationProperties","configurationProperties",e),this._mergeInterfaceSection("_mEvents","events",e),this._mergeInterfaceSection("_mMethods","methods",e)},r.prototype._mergeInterfaceSection=function(e,t,n){var r=n[t];if(r)for(var i in r){if(this[e][i])return new Error("Error during merging interface '"+n.name+"': The key '"+i+"' in section '"+t+"' is already defined by another interface");this[e][i]=r[i]}},r}),define("sap/watt/core/DebugHooks",[],function(){function e(e){try{throw e}catch(e){}}function t(e){var t=[];for(var n in e)j.call(e,n)&&t.push(n);return t}function n(e){var t=null;if(0===e.length)t=function(){};else if(1===e.length){var n=e[0];t=function(){n.apply(this,arguments)}}else{t=e[0];for(var r=1;r<e.length;r++){var i=t;t=function(){var t=i,n=e[r];return function(){t.apply(this,arguments),n.apply(this,arguments)}}()}}return t.extensions=e,t}function r(e,t,r,i){var o=e[t];if("function"==typeof o&&"function"==typeof r){if(!o.extensions)throw new Error("Trying to extend overridden method, please use util.js:hookTo() to extend it");if(o.extensions.indexOf(r)>=0)throw new Error("Trying to register same extension method twice");if(i)for(var a=0;a<o.extensions.length;a++)o.extensions[a].constructor.name===r.constructor.name&&o.extensions.splice(a,1);o.extensions.push(r),e[t]=n(o.extensions)}else{if("undefined"!=typeof o)throw new Error("Trying to wrap "+typeof o+", expecting a function or undefined");"function"==typeof r?e[t]=n([r]):e[t]=n([])}}function i(e,t,r){if(!e[t].extensions)throw new Error("Trying to unhook from method, that was not extended");var i=e[t].extensions.indexOf(r);if(i<0)throw new Error("Trying to unhook extension function "+r+" that was not hooked to current prototype, extensions that were hooked are: "+e[t].extensions);e[t].extensions.splice(i,1),e[t]=n(e[t].extensions)}function o(e){C.monitor&&(S++,e._promiseId=S,k[S]=e)}function a(e){C.monitor&&delete k[e._promiseId]}function s(){C.monitor||(C.monitor={},r(self,"onpromisecreated",o),r(self,"onpromisefulfilled",a),r(self,"onpromiserejected",a),r(self,"onpromiseresolved",a),r(self,"onpromisecancelled",a),C.monitor.getPendingPromises=function(){for(var e=[],n=t(k),r=0;r<n.length;r++)e.push(k[n[r]]);return e},C.monitor.getLeafPendingPromises=function(){for(var e=C.monitor.getPendingPromises(),t=[],n=0;n<e.length;n++){var r=e[n];"undefined"==typeof r._promise0&&"undefined"==typeof r._receiver0&&t.push(r)}return t})}function u(){C.monitor&&(i(self,"onpromisecreated",o),i(self,"onpromisefulfilled",a),i(self,"onpromiserejected",a),i(self,"onpromiseresolved",a),i(self,"onpromisecancelled",a),C.monitor=null,k=null)}function c(e,t){"undefined"==typeof e._chainLength&&(e._chainLength=0),t._chainLength=e._chainLength+1,t._chainLength>R&&T()}function l(e){R||(R=e,r(self,"onpromisechained",c),C.onChainLengthLimitExceeded=function(e){T=e})}function f(){R>0&&(i(self,"onpromisechained",c),T=I,R=null)}function h(){P>0&&(F++,F>P&&A())}function p(){P&&F--}function d(e){P||(P=e,r(self,"onpromisecreated",h),r(self,"onpromisefulfilled",p),r(self,"onpromiserejected",p),r(self,"onpromiseresolved",p),r(self,"onpromisecancelled",p),C.onPendingPromisesLimitExceeded=function(e){A=e})}function v(){P&&(P=null,F=0,A=O,i(self,"onpromisecreated",h),i(self,"onpromisefulfilled",p),i(self,"onpromiserejected",p),i(self,"onpromiseresolved",p),i(self,"onpromisecancelled",p))}function g(e,t){e._promiseId||(M++,e._promiseId=M),t._promiseId||(M++,t._promiseId=M),e._tracks||(e._tracks=[]),t._trackedBy||(t._trackedBy=[]),e._tracks.push(t),t._trackedBy.push(e)}function _(e){return e._trackedBy&&0!==e._trackedBy.length?(1!==e._trackedBy.length&&console.warn("Promise "+e._promiseId+" is tracked by more than one promise"),_(e._trackedBy[0])):e}function y(e,t){var n=[];if(t++,t>100)return null;var r=null,i="";if(e._trace){var o=e._trace.stack;i=',tooltip="'+o.replace(/(?:\r\n|\r|\n)/g,"&#13;&#10;")+'"';var a=o.split("\n")[4].trim(),s=/at (.*) \(.*[\\\/](.*:.*:.*)\)/g,u=s.exec(a);r=u&&3===u.length?e._promiseId+": "+u[1]+" at "+u[2]:e._promiseId}else r=e._promiseId;var c="";if(e.isRejected()&&(c=",color=blue"),e.isPending()&&(c=",color=red"),e.isCancelled()&&(c=",color=gray"),n.push(e._promiseId+'[label="'+r+'"'+c+i+"];"),e._tracks)for(var l=0;l<Math.min(e._tracks.length,1e3);l++)n.push(e._promiseId+"->"+e._tracks[l]._promiseId+";"),n=n.concat(y(e._tracks[l],t));return n}function m(){return"digraph promises {"+y(_(this),0).join("\n")+"}"}function w(){if(!this.isPending())throw new Error("This promise is not waiting for any other promise");if(this._tracks&&0!=this._tracks.length){for(var e=[],t=0;t<this._tracks.length;t++)this.isPending()&&(e=e.concat(this._tracks[t].findWaitingFor()));return e}return[this]}function b(){R||(U=!0,r(self,"onpromisechained",g),C.prototype.findWaitingFor=w,C.prototype.getDOTGraph=m)}function E(){R&&(U=!1,M=0,i(self,"onpromisechained",g),C.prototype.findWaitingFor=null,C.prototype.getDOTGraph=null)}function x(e,t){C=e,C.config({monitoring:"no_dom_events"}),"monitor"in t&&(t.monitor?s():u()),"tracing"in t&&(t.tracing?b():E()),"maxChainLength"in t&&(t.maxChainLength?l("number"==typeof t.maxChainLength?t.maxChainLength:1e5):f()),"maxPendingPromises"in t&&(t.maxPendingPromises?d("number"==typeof t.maxPendingPromises?t.maxPendingPromises:1e5):v())}var C=null,j={}.hasOwnProperty,k={},S=0,R=null,I=function(){throw new Error("Promises chain is too long, it reached limit of "+R+" promises")},T=I,P=null,F=0,L=!1,O=function(){if(!L)throw L=!0,new Error("Too many pending promises, it reached limit of "+P+" promises")},A=O,U=!1,M=0;return{createStack:function(t){t=t||0,t+=2;var n=new Error;n.stack||(e(n),t++);for(var r=n.stack.split("\n"),i=0;i<t;i++)r.shift();return r.join("\n")},hookToBluebird:x}}),define("sap/watt/core/Constants",[],function(){"use strict";var e=function(){return 2},t={WATT_PREFIXED_ARGS_NUM:e};return Object.freeze(t),t}),define("sap/watt/core/Proxy",["./Interface","./DebugHooks","sap/watt/lib/lodash/lodash","./Constants","./UtilsCore","sap/watt/core/UtilsQSap"],function(e,t,n,r,i,o){"use strict";var a=function(){this._mListeners={}};a.prototype._mListeners=null,a.prototype.emit=function(e){var t=Array.prototype.slice.call(arguments,1),n=[],r=[];if(t.push({}),this.hasListeners(e))for(var i=this._mListeners[e].concat(),o=0;o<i.length;o++){var a=i[o],s=a.listener,u=a.context;if(this._emitPreperation(a,n))try{r.push(Q(s.apply(u,t)))}catch(e){r.push(Q.reject(e))}}if(n.length>0)for(var o=0;o<n.length;o++){var a=n[o];this.off(e,a.listener,a.context)}return Q.allResolved(r)},a.prototype._emitPreperation=function(e,t){var n=!0,r=e.numberOfAllowedEmits;return"undefined"!=typeof r&&(r>0?(e.numberOfAllowedEmits--,0===e.numberOfAllowedEmits&&t.push({listener:e.listener,context:e.context})):n=!1),n},a.prototype.on=function(e,t,n){this._on(e,t,n)},a.prototype.once=function(e,t,n){this._on(e,t,n,1)},a.prototype._on=function(e,t,n,r){if(this.hasListener(e,t,n))throw new Error("Listener for event '"+e+"' is already registered");var i=this._mListeners[e]=this._mListeners[e]||[];i.push({listener:t,context:n,numberOfAllowedEmits:r})},a.prototype.off=function(e,t,n){this._visitListeners(e,function(e,t){return e.splice(t,1),!1},t,n)},a.prototype.hasListeners=function(e){if(!this._mListeners)throw new Error("EventEmitter constructor not called");return this._mListeners[e]&&this._mListeners[e].length>0},a.prototype.hasListener=function(e,t,n){var r=!1;return this._visitListeners(e,function(){return r=!0,!1},t,n),r},a.prototype._visitListeners=function(e,t,n,r){var i=this.hasListeners(e);if(i)for(var o=this._mListeners[e],a=0;a<o.length;a++){var s=o[a],u=s.listener,c=s.context,l=!1;if(n?n===u&&r===c&&(l=t(o,a,u,c)===!1):l=t(o,a,u,c)===!1,l)break}return i};var s=function(e){this._sName=e};s.prototype.getName=function(){return this._sName};var u=function(e,t){return{create:function(n,r){return r=jQuery.extend(r||{},{implements:e,module:t}),this.context.create(n,r)}}},c=function e(t,r){if(this._sName=t,this._oImpl=null,this._oImplSync=null,this._mConfig={module:null,className:null,implements:null,lazy:!0},this._oInterface=null,r.isFactory===!0){var i=r.implements,o=r.module;delete r.isFactory,r.implements="Factory",r.module=u(i,o)}"string"==typeof r?this._mConfig.className=r:n.assign(this._mConfig,r),this._oEventEmitter=this._mConfig.eventEmitter||null,this._mConfiguration=this._mConfig.configuration||null,this.context=this._mConfig.context||{},this._oContext=this.context,this._oContext.self=this._mConfig.self||this;var a=this;this._oContext.create=function(t,n){return n.context=a._oContext,n.lazy=n.lazy!==!1,e.create(t,n).then(function(e){return e})},!this._mConfig.module&&this._mConfig.className&&(console.warn("Service '"+this._sName+"': Using the property 'className' is deprecated. Please use 'module' instead"),this._mConfig.module=this._mConfig.className.replace(/\./g,"/")),this._oMetadata=new s(this._sName),this.$isLazy()&&(this.$=function(){return this._getImpl().then(function(e){return e})})};return c.create=function(e,t){var n=new c(e,t);return n.initialize()},c.LIFECYCLE_METHODS={init:!0,configure:!0},c.LIFECYCLE_METHODS_TIMEOUT=6e4,c.SERVICE_METHODS_TIMEOUT=1e4,c.isLifecycleMethod=function(e){return this.LIFECYCLE_METHODS[e]},c.prototype.getProxyMetadata=function(){return this._oMetadata},c.prototype.instanceOf=function(e){return this._oInterface.hasInterface(e)},c.prototype.attachEvent=function(e,t,n){this._getEventEmitter().on(e,t,n)},c.prototype.attachEventOnce=function(e,t,n){this._getEventEmitter().once(e,t,n)},c.prototype.detachEvent=function(e,t,n){this._getEventEmitter().off(e,t,n)},c.prototype.initialize=function(){delete this.initialize;var t=this._mConfig.implements,n=this,r=[e.create(t)];return this.$isLazy()||r.push(this._getImpl()),Q.all(r).spread(function(e){return n._oInterface=e,n._decorateProxyWithInterfaceMethods(),n._mConfiguration=n._mConfiguration||e.createConfigurationObject(),n._injectEventsToContext(),n},function(e){n._error("Original error message: "+e.message+"\nError stack: "+e.stack+"\n -----------")})},c.prototype.$isLazy=function(){return this._mConfig.lazy},c.prototype.$getInterface=function(){return this._oInterface},c.prototype.$configure=function(e,t){if(this._oImpl&&this._oImpl.isFulfilled()){if(this.$isLazy())return this._invokeImplMethod("$configure",[e,t],!0);var n=this._addToConfig(this._oInterface.createConfigurationObject(),e,t);return this._invokeImplMethod("configure",[n],!1)}return this._addToConfig(this._mConfiguration,e,t),Q()},c.prototype._getEventEmitter=function(){return this._oEventEmitter||(this._oEventEmitter=new a),this._oEventEmitter},c.prototype._addToConfig=function(e,t,n){if(this._oInterface.isConfigurationPropertyMultiple(t)){Array.isArray(n)||this._error("Value for multiple configuration property '"+t+"' must be an array");for(var r=0;r<n.length;r++)e[t].push(n[r])}else"undefined"!=typeof this._mConfiguration[t]&&this._error("Non multiple property '"+t+"' is already set and can not be overriden by configuration"),e[t]=n,this._mConfiguration[t]=n;return e},c.prototype._fireEvent=function(e,t){var r=n.assign({params:{}},t,{source:this._oContext.self,name:e});return this._getEventEmitter().emit(e,r)},c.prototype.$invoke=function(e){if(this.$isLazy()){var t=arguments;return this._getImpl().then(function(e){return e.$invoke.apply(e,t)})}if(c.isLifecycleMethod(e))return void this._error("Method is a lifecycle method. Do not call directly.",e);var t=Array.prototype.slice.call(arguments,r.WATT_PREFIXED_ARGS_NUM());return this._invokeImplMethod(e,t,!0)},c.prototype._charToUpperCase=function(e){return e&&e.length>1&&e.slice(0,1).toUpperCase()+e.slice(1)},c.prototype._invokeImplMethod=function(e,t,n){var r=this;return this._getImpl().then(function(i){return r._invokeMethod(i,e,t,n)})},c.prototype._invokeMethod=function(e,t,n,r){r=r!==!1;var i=this,o=null;if(e[t])o=e[t].apply(e,n),Q.isPromise(o)||(o&&o.constructor===Array&&o.length>0&&Q.isPromise(o[0])?(console.error("Warning: unhandeled promisses array"),o=Q.all(o)):o=Q(o)),o=o.catch(function(e){throw i._addModuleContextToError(e)}),o.timeout(c.SERVICE_METHODS_TIMEOUT).catch(Q.getBluebirdPromise().TimeoutError,function(){sap.watt.fireBrowserEvent("webide_service_method_timeout","module",i._mConfig.module,"method",t)}).catch(function(){});else if(r){var a=this._oInterface.getMethodDefaultReturnValue(t);if(a)o=a.default,"object"===a.type&&(o=jQuery.extend(!0,{},o)),e[t]=function(){return Q(o)};else{if(!sap.watt.getEnv("devMode"))return console.error("Method: "+t+" not implemented"),Q();i._error("Method: "+t+" not implemented")}}return Q(o)},c.prototype._callLifeCycleMethod=function(e,t,n){var r=this;return this._fireEvent("$before"+this._charToUpperCase(t)).then(function(){return r._invokeMethod(e,t,n,!1)}).timeout(c.LIFECYCLE_METHODS_TIMEOUT,"Timeout during method "+t+" of service "+r._sName)},c.prototype._getImplSync=function(){return this._oImplSync},c.prototype._getImpl=function(){if(!this._oImpl){var e=this;this._oImpl=this._createImplInstance().then(function(t){return e._oImplSync=t,t})}return this._oImpl},c.prototype._createImplInstance=function(){var e=this;if(this._mConfig.factory)return this._oContext.service[this._mConfig.factory].create(this._sName,{self:this._mConfig.self,eventEmitter:this._getEventEmitter(),configuration:this._mConfiguration});if(this.$isLazy()){var t=n.clone(this._mConfig);return t.lazy=!1,t.context=this._oContext,t.self=this,t.configuration=n.assign(this._mConfiguration,this._mConfig),t.eventEmitter=this._getEventEmitter(),c.create(this._sName,t)}var r=this._mConfig.module,i=function(t){var n=t;return"function"==typeof t?n=new n:(n.__bProxyImplInUse&&e._error("Error loading "+t+": Module instance is already in use. Please define module as a class by returning a function instead of an object"),n.__bProxyImplInUse=!0),n.context=e.context,delete e.context,e._callLifeCycleMethod(n,"init",null).then(function(){return e._callLifeCycleMethod(n,"configure",[e._mConfiguration])}).then(function(){return n})};return"string"==typeof r?Q.sap.require(r).then(i).fail(function(t){return e._fireModuleErrorEvent(r,t)}):i(r)},c.prototype._fireModuleErrorEvent=function(e,t){var n=e.substr(0,e.indexOf("/"));return sap.watt.fireBrowserEvent("webide_module_error","pluginName",n),Q.reject(t)},c.prototype._error=function(e,t){c._error(e,this._sName,t)},c.prototype._decorateProxyWithInterfaceMethods=function(){for(var e=this._oInterface,t=e.getMethods(),n=Object.keys(t),r=n.length,i=0;i<r;i++){var o=n[i];if(this[o]||c.isLifecycleMethod(o))this._error("Interface method is not allowed as it is implemented by the proxy",o);else{var a=t[o],s=a.async!==!1,u=this.$isLazy();u||s?this[o]=this._createAsyncProxyMethod(o,a):this[o]=this._createSyncProxyMethod(o,a)}}},c.prototype._createSyncProxyMethod=function(e,t){var n=this,r=n._getImplSync(),i=this.decorateProxyMethod(r[e],e,t);return function(){return i.apply(n,arguments)}},c.prototype._createAsyncProxyMethod=function(e,t){var n=this,r=this.decorateProxyMethod(n.$invoke,e,t);return function(){var t=[e,{}];return t=t.concat(Array.prototype.slice.call(arguments)),r.apply(n,t)}},c.prototype.decorateProxyMethod=function(e,n,r){var i=e;if(r.deprecated){var o="Service '"+this._sName+"': Method '"+n+"' is deprecated";o+=r.deprecated.since?" since "+r.deprecated.since:"",o+=r.deprecated.until?" until "+r.deprecated.until:"",o+=". "+(r.deprecated.description?"Description: "+r.deprecated.description:""),i=function(){return console.warn(o),console.warn(t.createStack(2)),e.apply(this,arguments)}}return i},c.prototype._injectEventsToContext=function(){var e=this._oInterface,t={},n=e.getEvents();t.fire=this._createFireEventFunction(n);for(var r=Object.keys(n),i=r.length,o=0;o<i;o++){var a=r[o];t["fire"+this._charToUpperCase(a)]=this._createFireSpecificEventFunction(a)}this._oContext.event=t},c.prototype._createFireEventFunction=function(e){var t=this;return function(n,r){return e[n]||t._error("The event '"+n+"' is not declared in the interface"),t._fireEvent(n,{params:r})}},c.prototype._createFireSpecificEventFunction=function(e){var t=this;return function(n){return t._fireEvent(e,{params:n})}},c.prototype._addModuleContextToError=function(e){return e._webIdeModuleContext||(e._webIdeModuleContext=this._mConfig.module),e},c._error=function(e,t,n){var r=[];throw t&&r.push("Name: "+t),n&&r.push("Method: "+n),e&&r.push("Message: "+e),new Error("Proxy: "+r.join(" | "))},c}),define("sap/watt/core/Service",["./Proxy"],function(e){"use strict";var t={_mRegistry:{},$setServiceRegistry:function(e){this._oServiceRegistry=e},get:function(e){var t;try{throw new Error}catch(e){t=e.stack.split("\n")}var n=t[2]||"caller unkown";return console.error("Deprecated: Service.get() - use context.service instead - Caller: "+n),this._oServiceRegistry.get(e)}};return t}),define("sap/watt/core/ServiceRegistry",["./Proxy","sap/watt/lib/lodash/lodash"],function(e,t){"use strict";var n=function(){this._mRegistry={}};return n.prototype.register=function(t,n){if(this._mRegistry[t])throw new Error("Service "+t+" is already implemented");this._mRegistry[t]="Under construction";var r=this;return e.create(t,n).then(function(e){return r._mRegistry[t]=e,e})},n.prototype.get=function(e){var t=this._mRegistry[e];return t||this._error("Service not registered",e),t},n.prototype.getAllServiceNames=function(){return t.keys(this._mRegistry)},n.prototype._error=function(e,t){var n=[];throw t&&n.push("Service: "+t),e&&n.push("Message: "+e),new Error(n.join(" | "))},n}),define("ui5",[],function(){var e={load:function(e,t,n,r){r.isBuild?n():sap.ui.require([e],function(e){n(e)})}};return e}),define("sap/watt/core/I18nBundle",["ui5!jquery.sap.resources"],function(){"use strict";var e=RegExp("^{(.+)>(.+)}$"),t=function(e){this._sLocale=window.sap.watt.getLocale(),this._defaultBundleName="i18n";var t={};"string"==typeof e?t[this._defaultBundleName]=e:t=e;for(var n in t){var r,i=t[n].indexOf(".hdbtextbundle");i>0?(r=".hdbtextbundle",t[n]=t[n].substr(0,i)):r=".properties";var o=/([^\/]*)\/(.*)/.exec(t[n]);t[n]=sap.ui.resource(o[1],o[2]+r)}this._mI18nBundles=t,this._aResourceBundles={},this.locale=this._sLocale,this.bundles=t};return t.prototype={},t.prototype.getText=function(t,n,r){if(1===arguments.length){var i=e.exec(arguments[0]);i?(t=i[1],n=i[2]):(n=arguments[0],t=this._defaultBundleName)}else 2===arguments.length&&Array.isArray(arguments[1])&&(r=arguments[1],n=arguments[0],t=this._defaultBundleName);if("string"!=typeof t&&"string"==typeof n&&(!r||Array.isArray(r)))throw new Error("Wrong arguments");if(!this._aResourceBundles[t]){var o=this._mI18nBundles[t];if(!o)throw new Error("Error getting i18n resource bundle '"+t+"'");this._aResourceBundles[t]=jQuery.sap.resources({url:o,locale:this._sLocale})}return this._aResourceBundles[t].getText(n,r)},t.prototype.applyTo=function(e){var t=this._mI18nBundles;jQuery.isArray(e)||(e=[e]);for(var n in t){var r=new sap.ui.model.resource.ResourceModel({bundleUrl:t[n],bundleLocale:this.locale});e.forEach(function(e){e.setModel(r,n)})}},t}),define("sap/watt/core/Validations",["../lib/lodash/lodash"],function(e){"use strict";function t(t){function r(e){return e._getImpl().then(function(e){return e._getImpl()})}var i=e.mapValues(t,function(e){return{expectedInterface:e._oInterface,actualImplPromise:r(e)}}),o=e.map(i,function(e){return e.actualImplPromise});return Q.all(o).then(function(t){var r=0,o=e.mapValues(i,function(e){return{expectedInterface:e.expectedInterface,actualImpl:t[r++]}}),a=e.mapValues(o,function(e){return n(e)}),s=e.omitBy(a,function(t){return e.isEmpty(t)});return s})}function n(t){var n=t.expectedInterface,i=t.actualImpl,o=r(n),a=e.functions(i),s=e.difference(o,a);return s}function r(t){var n=e.map(t._mInterfaces,function(t){return e.keys(e.omitBy(t.methods,function(e){return e.returns&&e.returns.hasOwnProperty("default")}))}),r=e.union(e.flatten(n));return r}function i(t,n,r){var i=[];e.isString(e.head(n))?i=n:e.isObject(e.head(n))&&(i=o(n)),r&&(i=e.union(i,r));var a=c(t),s=a?t.requires.services:[];return e.difference(s,i)}function o(t){var n=e.map(t,function(t){var n=u(t);return n?e.keys(t.provides.services):[]});return e.uniq(e.flatten(n))}function a(t){if(!s(t))return[];var n=c(t),r=u(t),i=n?t.requires.services:[],o=r?e.keys(t.provides.services):[],a=e.keys(t.configures.services),l=e.map(a,function(e){return e.split(":")[0]}),f=e.reject(l,function(t){return e.includes(i,t)}),h=e.reject(l,function(t){return e.includes(o,t)});return e.intersection(f,h)}function s(t){return e.isObject(t.configures)&&e.isObject(t.configures.services)}function u(t){return e.isObject(t.provides)&&e.isObject(t.provides.services)}function c(t){return e.isObject(t.requires)&&e.isArray(t.requires.services)}return{checkAllMethodsOnInterfaceImplemented_forAll:t,checkAllMethodsOnInterfaceImplemented:n,checkConfiguredServicesWhichAreNotRequiredOrProvided:a,checkMissingRequiredServices:i}}),define("sap/watt/core/ErrorMessages",["../lib/lodash/lodash"],function(e){"use strict";function t(e){var t="Not all required services are provided: \n";return r(e,t,"missing required services --->")}function n(e){var t="Inconsistent Service Definition\t\t\t- Not all configured services are required or provided: \n";return r(e,t,"services not required or provided --->")}function r(t,n,r){var i=e.reduce(t,function(e,t,n){var i="Plugin: "+n+" "+r+" "+t.join(", ")+"\n";return e+i},n);return i}return{getErrorMessage_configured_but_not_required_or_provided:n,getErrorMessage_missing_required_service:t}}),define("sap/watt/core/PluginRegistry",["./Service","./ServiceRegistry","./Proxy","./Interface","./ConfigPreload","./I18nBundle","./Validations","./ErrorMessages","./UtilsCore","sap/watt/lib/lodash/lodash"],function(e,t,n,r,i,o,a,s,u,c){"use strict";function l(e,t){return c.forEach(t,function(t,n){e[n]?Array.isArray(t)?e[n]=jQuery.merge(e[n],t):c.isPlainObject(t)?e[n]=l(e[n],t):e[n]=t:e[n]=t}),e}function f(e,t){var n=!0,r=!0;return c.endsWith(e,".Plugin")&&(console.warn("Deprecation Warning: Wrong pattern for plugin 'name' "+e+". Please use a valid namespace, e.g. sap.watt.common.myplugin. To use a Plugin.js please define a 'module', e.g. 'module':'sap.watt.common.myplugin/Plugin.js"),n=!1),t&&0===t.indexOf("./")&&(console.warn("Deprecation Warning: Wrong pattern for plugin 'module' "+e+". To use a Plugin.js please define a 'module', e.g. 'module':'sap.watt.common.myplugin/Plugin.js. If no module is needed, delete it."),r=!1),!r&&!n}function h(e){var t=c.mapValues(e,function(e){return a.checkConfiguredServicesWhichAreNotRequiredOrProvided(e)}),n=c.omitBy(t,function(e){return c.isEmpty(e)});return n}function p(e,t){var n=t.getAllServiceNames(),r=c.mapValues(e,function(e){return a.checkMissingRequiredServices(e,n)}),i=c.omitBy(r,function(e){return c.isEmpty(e)});return i}function d(e,t){var n={};n[e.getMetadata().name]=e.getMetadata();var r=h(n),i=p(n,t),o=[];if(c.isEmpty(r)||o.push(s.getErrorMessage_configured_but_not_required_or_provided(r)),c.isEmpty(i)||o.push(s.getErrorMessage_missing_required_service(i)),!c.isEmpty(o))throw new Error("Problems detected while checking service definition consistency:\n"+o.join("--------------------\n"))}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("rejected"===r.state){var i=e[n];i.sURI?(r.baseURI=i.sURI,r.optionalFeature=i.optionalFeature):i.baseURI?(r.baseURI=i.baseURI,r.optionalFeature=i.optionalFeature):(r.name=i.getMetadata().name,r.description=i.getMetadata().description,r.baseURI=i.getMetadata().baseURI,r.optionalFeature=i.getMetadata().optionalFeature)}}}function g(e,t){v(e,t);var n=c.filter(e,function(e,n){return"fulfilled"===t[n].state}),r=c.filter(t,function(e){return"rejected"===e.state});return{successes:n,failures:r}}function _(e,t){v(e,t);var n=c.groupBy(t,function(e){return e.state}),r=n.fulfilled?n.fulfilled:[],i=n.rejected?n.rejected:[],o=c.map(r,"value");return{successes:o,failures:i}}function y(e){var t=c.reduce(e,function(e,t){return e+"\n"+t.reason.stack},"");return t}function m(){return!0}function w(){return!1}var b=new t;e.$setServiceRegistry(b);var E={};E.assertConfiguredServicesAreRequiredOrProvided=h,E.assertAllRequiredAreInRegistry=p,E.assertServicesDefinitionConsistency=d,Object.freeze(E);var x=function(e,t){this._oMetadata=e,this._baseURI=e.baseURI,this._oProxy=t,this._oContext=t?t.context:{},this._registerInterfaces()};x.create=function(e,t){e.baseURI&&x.registerRequirePath(e.name,e.baseURI);var r=t&&t[e.name],i=[];return(r||[]).forEach(function(e){var t=e.sURI.replace(/\/$/,"");i.push(x.loadMetadata(t,"plugin.ext.json"))}),Q.all(i).then(function(t){t.forEach(function(t){x.registerRequirePath(t.name,t.baseURI),e=x.mergeMetadata(e,t)});var r=Q();return f(e.name,e.module)?r=n.create(e.name,e.name):e.module&&(r=n.create(e.name,{module:e.module})),r.then(function(t){return new x(e,t)})})},x._ensureSections=function(e,t){if(!e.name)throw new Error("Failed to load metadata for Plugin "+t+"! Reason: No plugin name given");return jQuery.extend(!0,{baseURI:t,requires:{services:[]},provides:{services:{},interfaces:{}},configures:{services:{}},subscribes:{}},e)},x.registerRequirePath=function(e,t){var n={paths:{}};n.paths[e]=t,require.config(n),jQuery.sap.registerModulePath(e,t)},x.mergeMetadata=function(e,t){return e.requires.services=e.requires.services.concat(t.requires.services),l(e.provides.services,t.provides.services),l(e.configures.services,t.configures.services),l(e.subscribes,t.subscribes),e},x.loadMetadata=function(e,t){var n=e+"/"+t,r=i.toInternalPath(e+"/.");return i.getPreload("plugins",r).then(null,function(){return Q(jQuery.ajax({url:n,dataType:"json"}).then(null,function(e,t,r){return new Error("Failed to load metadata for Plugin "+n+"! Reason: "+t+" "+e.statusText)}))}).then(function(t){return x._ensureSections(t,e)})},x.prototype.initServices=function(e){delete this.initServices;var t=[],n=this._getServiceMetadataFor("provides");return c.forEach(n,function(e,n){var r=b.register(n,e);t.push(r)}),e?Q.allSettled(t):Q.all(t)},x.prototype.initialize=function(){var e=this;return Q.fcall(function(){delete e.initialize,e._initI18n(),e._initServiceContexts(),e._initSubscribes(),e._initServiceConfigurations()}).then(null,function(t){throw new Error("Error initializing plugin "+e._oMetadata.name+"\nOriginal error message: "+t.message+"\nError stack: "+t.stack+"\n -----------")})},x.prototype.getMetadata=function(){return this._oMetadata},x.prototype._registerInterfaces=function(){var e=this._getInterfaceMetadata();c.forEach(e,function(e,t){"string"==typeof e&&(e+=".json"),r.register(t,e)})},x.prototype._initServiceContexts=function(){var e=this._getServiceMetadataFor("requires"),t=this._getServiceMetadataFor("provides"),n=this._createServiceObjectForContext(t,e);this._oContext.service=n;var r=this;for(var i in t){var o=b.get(i);o.context.service=n,o.context.i18n=r._oContext.i18n}},x.prototype._initI18n=function(){var e=this.getMetadata().i18n,t=this._createI18nObjectForContext(e);this._oContext.i18n=t},x.prototype._initSubscribes=function(){var e=this,t=this.getMetadata().subscribes;c.forEach(t||{},function(t,n){var r=n.split(":");if(2!==r.length)throw new Error("Event subscribtion needs to be of the following format: <service>:<eventName>, but is '"+n+"'");var i=b.get(r[0]),o=r[1];"string"==typeof t&&(t=[t]),t.forEach(function(t){var n,r,a=t.split(":");if(1===a.length){if(n=a[0],r=e._oProxy,!r)throw new Error("Target service of event subscription is not available. Please define a plugin 'module' in the plugin.json of plugin: "+e.getMetadata().name)}else{var s=a[0];if(n=a[1],r=b.get(s),!e._oMetadata.provides||!e._oMetadata.provides.services||!e._oMetadata.provides.services[s])throw new Error("An event handling service needs to be provided by the plugin that defines the subscription - Plugin: "+e._oMetadata.name+" - Service: "+s)}if(n){var u=function(e,t){return r.$invoke(n,t||{},e)};i.attachEvent(o,u)}})})},x.prototype._initServiceConfigurations=function(){var e=this._getServiceMetadataFor("configures"),t=this;c.forEach(e||{},function(e,n){var r=n.split(":"),i=null;if(2!==r.length)throw new Error("Service Configuration: Syntax error in configuration for service '"+n+"' in Plugin '"+this.getMetadata().name+"'. No configuration property given.'");n=r[0],i=r[1];var o=b.get(n);o.attachEventOnce("$beforeInit",function(){return t._enrichServiceConfigurationValueAndConfigureService(i,e,o)})})},x.prototype._configureAnonymousService=function(e,t){var n=this,r=[];return c.forEach(t||{},function(t,i){r.push(n._enrichServiceConfigurationValueAndConfigureService(i,t,e))}),Q.all(r)},x.prototype._enrichServiceConfigurationValueAndConfigureService=function(e,t,n){return this._enrichServiceConfigurationValue(e,t,n).then(function(t){return n.$configure(e,t)})},x.prototype._enrichServiceConfigurationValue=function(e,t,n){var r=this,i=n.$getInterface(),o=n.getProxyMetadata().getName()||"anonymous";if(!i.hasConfigurationProperties())throw new Error("Service configuration: No configuration defined for '"+o+"'. Please define the configuration in the interface");var a=i.getConfigurationProperties(),s=a[e];if(!s)throw new Error("Service Configuration: Configuration property '"+e+"' not defined in configuration for service '"+o+"' in Plugin '"+this.getMetadata().name+"'.'");var u=s.type,c=[];if(i.isConfigurationPropertyMultiple(e)){if(!Array.isArray(t))throw new Error("Service configuration: Multiple configuration property '"+e+"' of service '"+o+"' needs to be an array");c=t.map(function(e,n){return r._enrichServiceConfigurationValueByType(u,e,i).then(function(e){t[n]=e})})}else c.push(this._enrichServiceConfigurationValueByType(u,t,i).then(function(e){t=e}));return Q.all(c).then(function(){return t})},x.prototype._enrichServiceConfigurationValueByType=function(e,t,n){var r=this,i=[];if(null===t||void 0===t)return Q(t);if(n.isComplexType(e))if(Array.isArray(e)){var o=e[0];i=t.map(function(e,i){return r._enrichServiceConfigurationValueByType(o,e,n).then(function(e){t[i]=e})})}else c.forEach(e,function(e,o){var a=e;c.isPlainObject(e)&&(a=e.type),i.push(r._enrichServiceConfigurationValueByType(a,t[o],n).then(function(e){t[o]=e}))});else n.isProxyType(e)?i.push(this._getServiceByConfigurationValue(t,e).then(function(e){t=e})):t=this._getTextFromResourceBundle(t);return Q.all(i).then(function(){return t})},x.prototype._getServiceByConfigurationValue=function(e,t){var r=this;if("string"==typeof e&&0===e.indexOf("@")){var i=e.substring(1),o=b.get(i);return o.instanceOf("Factory")&&"Factory"!==t?o.create().then(function(e){return e}):Q(o)}var a,s={};if(c.isString(e)?(s.implements=t,e.indexOf("/")!=-1?s.module=e:s.className=e):(s=e,a=e.configuration,delete s.configuration,s.implements&&""!==s.implements||(s.implements=t)),s.factory){var i=s.factory.substring(1),o=b.get(i);return o.create().then(function(e){return r._configureAnonymousService(e,a).then(function(){return e})})}return n.create(e,s).then(function(e){return r._configureAnonymousService(e,a).then(function(){return e.context.service=r._oContext.service,e.context.i18n=r._oContext.i18n,e})})},x.prototype._createServiceObjectForContext=function(e,t){var n=t.slice(0);for(i in e)n.push(i);for(var r={},i="",o=null,a=0;a<n.length;a++)i=n[a],
o=b.get(i),this._setObjectValue(r,i,o);return r},x.prototype._setObjectValue=function(e,t,n){var r=t;if(r.indexOf(".")!=-1){for(var i=r.split("."),o=0;o<i.length-1;o++)e[i[o]]=e[i[o]]||{},e=e[i[o]];r=i[o]}e[r]=n},x.prototype._getServiceMetadataFor=function(e){return this.getMetadata()[e].services},x.prototype._getInterfaceMetadata=function(){return this.getMetadata().provides.interfaces},x.prototype._createI18nObjectForContext=function(e){return e?new o(e):null},x.prototype._getTextFromResourceBundle=function(e){if("string"==typeof e&&e.indexOf(">")>1){var t=e.match(/{(.+)>(.+)}/);if(3===t.length){var n=t[1],r=t[2];e=this._oContext.i18n.getText(n,r)}}return e};var C=function(){this._mRegistry={},this._assertUtils=E;var e=this;window.addEventListener("webide_module_error",function(t){if(!localStorage.getItem(e._LOCALSTORAGE_INVALIDPLUGININFO))for(var n=t.pluginName,r=c.values(e._mRegistry),i=0;i<r.length;i++){var o=r[i],a=o._oMetadata;if(a.required===!1&&a.name===n){var s,u=a.optionalFeature&&a.optionalFeature.name;s=u?"Following a severe runtime error in plugin "+n+", feature "+u+" was disabled.":"Following a severe runtime error the plugin "+n+" was disabled.",console.error(s);var l={baseURI:a.baseURI,name:a.name,description:a.description,feature:u,message:s};localStorage.setItem(e._LOCALSTORAGE_INVALIDPLUGININFO,JSON.stringify(l)),sap.watt.fireBrowserEvent("invalid_plugin_error","pluginName",n,"optionalFeatureName",u,"message",s);break}}})};return C.prototype._LOCALSTORAGE_INVALIDPLUGININFO="SAPCloudIDELastInvalidPluginInfo",C.prototype.$getServiceRegistry=function(){return b},C.prototype.register=function(e,t){return this._registerMain(e,t).then(function(e){return e.required.successes})},C.prototype._getNotReqPluginsWithNamesNotEqualToReqPlugins=function(e,t){var n=c.filter(e,function(e){return!!e.pluginName}),r=c.intersectionBy(n,t,"pluginName");return c.differenceBy(e,r,"pluginName")},C.prototype._removeReqPluginsWithNamesEqualToDevReqPlugins=function(e){var t=c.remove(e,function(e){return e.dev===!0}),n=c.differenceBy(e,t,"pluginName");return n.concat(t)},C.prototype.registerWithFullDetails=function(e,t){return this._registerMain(e,t)},C.prototype._registerMain=function(e,t){var n=this,r=[];return c.forEach(e,function(e){if(!e.pluginName&&e.sURI){var t=e.sURI+"/plugin.json";r.push(Q.sap.ajax(t,{dataType:"json"}).spread(function(t){e.pluginName=t.name}).fail(function(e){console.error(e)}))}}),Q.all(r).then(function(){var r=c.filter(e,{required:!1}),i=c.difference(e,r);r=n._getNotReqPluginsWithNamesNotEqualToReqPlugins(r,i),i=n._removeReqPluginsWithNamesEqualToDevReqPlugins(i);var o=n._loadPluginsMetaData(i),a=n._loadPluginsMetaData(r);return o.then(function(e){return n._handleErrorsAndCreatePlugins(e,t,m()).then(function(e){return a.then(function(r){return n._handleErrorsAndCreatePlugins(r,t,w()).then(function(t){return localStorage.removeItem(n._LOCALSTORAGE_INVALIDPLUGININFO),n._removeFailedPluginsFromPluginRegistry(t.failures),{required:{successes:e.successes,failures:e.failures},notRequired:{successes:t.successes,failures:t.failures}}})})})})})},C.prototype._handleErrorsAndCreatePlugins=function(e,t,n){function r(e,t){if(!c.isEmpty(e.failures)){var r=y(e.failures),i=n?"required":"not required",o="failure during "+t+" of "+i+" plugins ->\n";if(n)throw new Error(o+r);console.log(o+r)}}return r(e,"metadata loading"),this._createPlugins(e.successes,t,n).then(function(t){return r(t,"creation"),{successes:t.successes,failures:e.failures.concat(t.failures)}})},C.prototype._removeFailedPluginsFromPluginRegistry=function(e){var t=this;c.forEach(e,function(e){delete t._mRegistry[e.baseURI]})},C.prototype._createPlugins=function(e,t,n){if(c.isEmpty(e))return Q({successes:[],failures:[]});var r=this;return r._registerPlugins(e,t,n).then(function(e){return r._initServices(e.successes).then(function(t){return r._verifyPluginsServices(t.successes).then(function(n){return r._initPlugins(n.successes).then(function(r){var i=r.failures.concat(e.failures,t.failures,n.failures);return{successes:r.successes,failures:i}})})})})},C.prototype.getInvalidPluginInfo=function(){var e=localStorage.getItem(this._LOCALSTORAGE_INVALIDPLUGININFO),t=null;return e&&(t=JSON.parse(e)),t},C.prototype._registerPlugins=function(e,t,n){var r=this;if(c.isEmpty(e))return Q({successes:[],failures:[]});var i=this.getInvalidPluginInfo(),o=c.map(e,function(e){return n===!1&&i&&i.baseURI===e.baseURI?Q.reject(i):r._register(e,t)});return Q.allSettled(o).then(function(t){return _(e,t)})},C.prototype._verifyPluginsServices=function(e){if(c.isEmpty(e))return Q({successes:[],failures:[]});var t=this,n=c.map(e,function(e){return Q.fcall(function(){d(e,t.$getServiceRegistry())})});return Q.allSettled(n).then(function(t){return g(e,t)})},C.prototype._initServices=function(e){if(c.isEmpty(e))return Q({successes:[],failures:[]});var t=c.map(e,function(e){return Q(e).invoke("initServices").then(function(){console.log("READY: "+e.getMetadata().name)})});return Q.allSettled(t).then(function(t){return g(e,t)})},C.prototype._initPlugins=function(e){if(c.isEmpty(e))return Q({successes:[],failures:[]});var t=c.map(e,function(e){return e.initialize()});return Q.allSettled(t).then(function(t){return g(e,t)})},C.prototype._register=function(e,t){var n=e.baseURI;if(this._mRegistry[n]){var r=Q.defer();return r.reject(new Error("Plugin "+n+" is already registered")),r.promise}var i=this;return console.log("CREATE: "+n),x.create(e,t).then(function(e){return i._mRegistry[n]=e,e})},C.prototype.get=function(e){var t=this._mRegistry[e];return t||jQuery.sap.log.error("Plugin not registered",e),t&&t.getMetadata()},C.prototype._loadPluginsMetaData=function(e){var t=c.map(e,function(e){if(c.has(e,"sURI")){var t=e.sURI.replace(/\/$/,"");return x.loadMetadata(t,"plugin.json").then(function(t){if(!c.isUndefined(e.pluginName)&&e.pluginName!==t.name)throw new Error("The plugin that is referenced as "+e.pluginName+" has a different name "+t.name+' in its "plugin.json" file');return t.optionalFeature=e.optionalFeature,t.required=e.required,t})}return Q(x._ensureSections(e,e.baseURI))});return Q.allSettled(t).then(function(t){return _(e,t)})},new C}),define("sap/watt/core/Core",["./PluginRegistry","./Interface"],function(e,t){"use strict";function n(e,t){if(sap.watt.getEnv("iframeMode")){var n=window.frameElement.id,r=window.parent,i=r[e]&&r[e][n];if(i)return i.resolve(t),i.promise}}var r=Q.defer(),i=null;r.promise.done();var o={_bStarted:!1,_oContext:null,start:function(t){var r=this;if(this._oContext=r.context,this._bStarted)throw new Error("Core can only be started once");return this._bStarted=!0,e.registerWithFullDetails(t.plugins,t.pluginExtensions).then(function(t){var i=n("WEB_IDE_CORE_STARTED_DEFERRED",e);return i||(i=Q()),i.then(function(){return r.context.event.fireStarted().then(function(){return t})})})},getService:function(){return r.promise}};return t.register("sap.watt.core.Core",{methods:{start:{},getService:{}},events:{started:{},allPluginsStarted:{}}}),t.register("sap.watt.core.FeatureConfig",{methods:{load:{},getRootFeatureConfig:{},isFeatureEnabled:{},areFeaturesLoadedFromUserPreferences:{},getOptionalFeaturesLoadMode:{},loadAsRootFeature:{},setOptionalFeaturesLoadMode:{}}}),t.register("Factory",{description:"The service factory service",methods:{create:{}}}),o.startup=e.$getServiceRegistry().register("core",{module:"sap/watt/core/Core",implements:"sap.watt.core.Core"}).then(function(t){return i=t,r.resolve(i),e.$getServiceRegistry().register("featureConfig",{module:"sap/watt/core/FeatureConfig",implements:"sap.watt.core.FeatureConfig"})}).then(function(t){var n;return window.WEB_IDE_FEATURE_CONFIG_OVERRIDE&&(n=window.WEB_IDE_FEATURE_CONFIG_OVERRIDE),t.load(n,e.getInvalidPluginInfo())}).then(function(e){return window.WEB_IDE_PLUGINS_TRANSFORM&&(e.plugins=window.WEB_IDE_PLUGINS_TRANSFORM(e.plugins)),i.start(e)}),o.startup.then(function(t){var r=t.notRequired.failures;o._oContext.event.fireAllPluginsStarted({params:r}).then(function(){_.isEmpty(r)||sap.watt.fireBrowserEvent("AllPluginsStarted_FailedPlugins","aFailedPlugins",r),n("WEB_IDE_DEFERRED",e)}).done()}).done(),o}),define("sap/watt/core/Config",["sap/watt/lib/lodash/lodash"],function(e){"use strict";function t(t,n){return n.plugins&&(t.plugins=t.plugins.concat(n.plugins)),n.pluginExtensions&&e.forEach(n.pluginExtensions,function(e,n){var r=Array.isArray(e)?e:[e];t.pluginExtensions[n]=(t.pluginExtensions[n]||[]).concat(r)}),t}function n(e,t){return new URI(e).absoluteTo(t).query("").toString()}function r(t,r,i){var o;return e.isPlainObject(r)?(o=r,o.sURI=n(r.path,i)):(o={},o.sURI=n(r,i)),"boolean"==typeof t.required?o.required=t.required:"boolean"==typeof r.required?o.required=r.required:o.required=!1,o}function i(t,n){return t.plugins=t.plugins&&t.plugins.map(function(e){return r(t,e,n)}),e.forEach(t.pluginExtensions||{},function(e,i){if("string"!=typeof e)throw new Error("Failed to load config file: "+n+"! Reason: Plugin extension definition for plugin '"+i+"' needs to be of type string");t.pluginExtensions[i]=r(t,e,n)}),t}function o(e){var r=[],a={plugins:[],pluginExtensions:{}};return Q(jQuery.ajax({url:e,dataType:"json"}).then(null,function(t,n,r){return new Error("Failed to load config file: "+e+"! Reason: "+r)})).then(null,function(e){return console.error(e.message),{}}).then(function(s){s=i(s,e);var u=s.includes||[];if(u.length>0){var c=/{([^}]+)}/g;return u.forEach(function(t){for(var i,a=t;null!==(i=c.exec(t));){var s=sap.watt.getEnv(i[1])||"";a=a.replace(i[0],s)}r.push(o(n(a,e)))}),Q.all(r).spread(function(){var e=Array.prototype.slice.call(arguments);return e.forEach(function(e){a=t(a,e)}),Q.all([t(a,s)])})}return Q.all([t(a,s)])}).spread(function(e){return e})}var a={load:function(e){return e=n(e),o(e).then(function(e){return e},function(e){throw new Error("Load of config files failed! \n Reason: "+e)})}};return a}),define("sap/watt/core/Core-preload",function(){});